{"version":3,"sources":["webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/component-loader/fesm2015/ngx-bootstrap-component-loader.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/modal/fesm2015/ngx-bootstrap-modal.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/positioning/fesm2015/ngx-bootstrap-positioning.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/utils/fesm2015/ngx-bootstrap-utils.js","webpack:///src/app/_services/hotel.service.ts","webpack:///src/app/hotels/add-new-hotel/add-new-hotel.component.ts","webpack:///src/app/hotels/add-new-hotel/add-new-hotel.component.html","webpack:///src/app/hotels/delete-hotel/delete-hotel.component.ts","webpack:///src/app/hotels/delete-hotel/delete-hotel.component.html","webpack:///src/app/hotels/edit-hotel/edit-hotel.component.ts","webpack:///src/app/hotels/edit-hotel/edit-hotel.component.html","webpack:///src/app/hotels/hotels-routing.module.ts","webpack:///src/app/hotels/hotels.module.ts","webpack:///src/app/hotels/layout.component.ts","webpack:///src/app/hotels/layout.component.html","webpack:///src/app/hotels/list.component.ts","webpack:///src/app/hotels/list.component.html","webpack:///src/app/hotels/renderer/button-renderer.component.ts"],"names":["BsComponentRef","ContentRef","nodes","viewRef","componentRef","ComponentLoader","_viewContainerRef","_renderer","_elementRef","_injector","_componentFactoryResolver","_ngZone","_applicationRef","_posService","onBeforeShow","onShown","onBeforeHide","onHidden","_providers","_isHiding","containerDefaultSelector","_listenOpts","_globalListener","Function","prototype","compType","_componentFactory","resolveComponentFactory","container","opts","attachment","target","provider","push","_subscribePositioning","_innerComponent","_componentRef","emit","_contentRef","_getContentRef","content","context","initialState","injector","create","providers","parent","attachView","hostView","instance","Object","assign","nativeElement","appendChild","location","document","selectedElement","querySelector","parentElement","changeDetectorRef","markForCheck","detectChanges","_registerOutsideClick","deletePositionElement","componentEl","parentNode","removeChild","destroy","remove","indexOf","_removeGlobalListener","isShown","hide","show","_unsubscribePositioning","_unregisterListenersFn","listenOpts","triggers","outsideClick","outsideEsc","registerHide","toggle","vRef","template","_inlineViewRef","createEmbeddedView","setTimeout","targets","_zoneSubscription","subscribe","position","element","appendToBody","onStable","calcPosition","unsubscribe","_viewRef","rootNodes","contentCmptFactory","modalContentInjector","createText","ComponentLoaderFactory","ɵfac","ComponentLoaderFactory_Factory","t","ɵprov","token","factory","ctorParameters","type","_c0","BsModalRef","setClass","BsModalRef_Factory","ModalBackdropOptions","options","animate","ModalOptions","ModalOptions_Factory","modalConfigDefaults","backdrop","keyboard","focus","ignoreBackdropClick","animated","CLASS_NAME","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","IN","SHOW","SELECTOR","DIALOG","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","TRANSITION_DURATIONS","MODAL","DISMISS_REASONS","BACKRDOP","ESC","ModalContainerComponent","_element","isModalHiding","clickStartedInContent","config","isAnimated","addClass","setStyle","body","bsModalService","getModalsCount","checkScrollbar","setScrollbar","event","clickedInBackdrop","setDismissReason","keyCode","key","preventDefault","level","removeClass","ModalContainerComponent_Factory","ɵcmp","selectors","hostAttrs","hostVars","hostBindings","ModalContainerComponent_HostBindings","rf","ctx","ModalContainerComponent_mousedown_HostBindingHandler","$event","onClickStarted","ModalContainerComponent_mouseup_HostBindingHandler","onClickStop","ModalContainerComponent_keydown_esc_HostBindingHandler","onEsc","ariaLabelledBy","ariaDescribedby","ngContentSelectors","decls","vars","consts","ModalContainerComponent_Template","encapsulation","propDecorators","args","selector","host","role","tabindex","ModalBackdropComponent","renderer","_isShown","reflow","_isAnimated","value","ModalBackdropComponent_Factory","ModalBackdropComponent_Template","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","ModalDirective","clf","onShow","onHide","isBodyOverflowing","originalBodyPadding","scrollbarWidth","timerHideModal","timerRmBackDrop","isNested","_backdrop","createLoader","dismissReason","hideModal","dispose","_config","getConfig","clearTimeout","classList","contains","showBackdrop","showElement","nodeType","Node","ELEMENT_NODE","setAttribute","setProperty","transitionComplete","resetScrollbar","resetAdjustments","focusOtherModal","callback","removeBackdrop","attach","to","callbackRemove","otherOpenedModals","querySelectorAll","length","clientWidth","innerWidth","getScrollbarWidth","parseInt","getComputedStyle","getPropertyValue","style","paddingRight","scrollDiv","createElement","offsetWidth","conf","ModalDirective_Factory","ɵdir","ModalDirective_HostBindings","ModalDirective_mousedown_HostBindingHandler","ModalDirective_mouseup_HostBindingHandler","ModalDirective_keydown_esc_HostBindingHandler","inputs","outputs","exportAs","BsModalService","rendererFactory","modalsCount","lastDismissReason","loaders","_backdropLoader","createRenderer","_createLoaders","_showBackdrop","_showModal","_hideBackdrop","_hideModal","removeLoaders","isBackdropEnabled","isBackdropInDOM","backdropRef","duration","modalLoader","provide","bsModalRef","modalContainerRef","useValue","getInnerComponent","newClass","reason","window","loader","copyEvent","splice","forEach","i","from","BsModalService_Factory","ModalModule","ngModule","ɵmod","ɵinj","ModalModule_Factory","ngJitMode","declarations","exports","entryComponents","getStyleComputedProperty","property","ownerDocument","defaultView","css","getParentNode","nodeName","getScrollParent","overflow","overflowX","overflowY","test","String","isBrowser","isIE11","MSInputMethodContext","documentMode","isIE10","navigator","userAgent","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","sibling","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","element1root","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","html","computedStyle","Math","max","getWindowSizes","height","width","getScroll","side","upperSide","scrollingElement","getClientRect","offsets","right","left","bottom","top","getBoundingClientRect","rect","scrollTop","scrollLeft","e","undefined","result","sizes","clientHeight","horizScrollbar","vertScrollbar","offsetHeight","includeScroll","subtract","modifier","getOffsetRectRelativeToArbitraryNode","children","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerHeight","offset","Number","isFixed","getFixedPositionOffsetParent","el","getBoundaries","padding","boundariesElement","boundaries","boundariesNode","getArea","computeAutoPlacement","placement","refRect","allowedPositions","rects","sortedAreas","keys","map","area","sort","a","b","filteredAreas","filter","some","allowedPosition","computedPlacement","variation","split","className","replace","getOffsets","data","floor","round","getOppositePlacement","hash","matched","getOppositeVariation","getOuterSizes","x","marginBottom","y","marginRight","getReferenceOffsets","commonOffsetParent","getTargetOffsets","hostOffsets","targetRect","targetOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","isModifierEnabled","modifierName","modifiers","enabled","isNumeric","n","isNaN","isFinite","updateContainerClass","containerClass","placementAuto","setStyles","prop","unit","arrow","arrowElement","isVertical","len","sideCapitalized","toLowerCase","altSide","opSide","arrowElementSize","placementVariation","targetMarginSide","targetBorderSide","center","targetBorderRadius","borderRadius","targetSideArrowOffset","sideValue","min","flip","offsetsHost","adaptivePosition","flipOrder","step","index","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","initData","targetElement","hostElement","hostElPosition","match","matches","targetOffset","positionFixed","preventOverflow","transformProp","targetStyles","transform","check","primary","secondary","shift","basePlacement","shiftVariation","shiftOffsets","Positioning","chainOfModifiers","reduce","modifiedData","positionService","positionElements","PositioningOptions","PositioningService","ngZone","platformId","update$$","Map","isDisabled","runOutsideAngular","triggerEvent$","passive","positionElement","_getHtmlElement","addPositionElement","set","next","elRef","PositioningService_Factory","decorators","Trigger","open","close","ListenOptions","DEFAULT_ALIASES","hover","parseTriggers","aliases","trimmedTriggers","trim","parsedTriggers","trigger","triggerPair","alias","manualTriggers","isManual","Error","listenToTriggers","showFn","hideFn","toggleFn","listeners","listen","unsubscribeFn","listenToTriggersV2","_registerHide","fn","useToggle","registerOutsideClick","registerEscClick","win","document$1","gc","performance","Event","MouseEvent","KeyboardEvent","EventTarget","History","Location","EventListener","guessedVersion","_guessBsVersion","spanEl","innerText","add","setTheme","theme","isBs3","__theme","LinkedList","asArray","current","head","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","removedNode","arg","last","reverse","lastItem","outArray","OnChange","defaultValue","sufix","OnChangeHandler","propertyKey","_key","defineProperty","get","prevValue","Utils","bs","elem","view","opener","_messagesHash","_hideMsg","console","warnOnce","msg","warn","HotelService","router","http","hotelSubject","JSON","parse","localStorage","getItem","hotel","asObservable","log","post","apiUrl","countryID","id","params","put","pipe","hotelValue","HotelId","setItem","stringify","providedIn","AddNewHotelComponent","builder","hotelService","countries","cities","addNewHotelForm","group","Country","City","HotelName","Description","Adddress","getCountryList","error","hotelData","register","countryId","CityByCountry","onHotelFormSubmit","onClose","BindCity","templateUrl","DeleteHotelComponent","deleteHotel","EditHotelComponent","editHotelForm","Addsress","hotelIdData","getById","controls","setValue","CityId","update","onHotelEditFormSubmit","routes","path","component","HotelsRoutingModule","forChild","imports","HotelsModule","forRoot","withComponents","LayoutComponent","ListComponent","rowDataClicked1","hotels","columnDefs","headerName","field","sortable","cellRenderer","cellRendererParams","onClick","onBtnClick1","bind","label","frameworkComponents","buttonRenderer","rowData","getAll","selectedNodes","agGrid","api","getSelectedNodes","selectedData","selectedDataStringPresentation","join","alert","getHotels","addNewHotel","getSelectedRows","ButtonRendererComponent"],"mappings":"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","file":"hotels-hotels-module-es5.js","sourcesContent":["import { EventEmitter, Injector, ElementRef, TemplateRef, Injectable, ComponentFactoryResolver, NgZone, ApplicationRef } from '@angular/core';\nimport { listenToTriggersV2, registerOutsideClick, registerEscClick } from 'ngx-bootstrap/utils';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/positioning';\nclass BsComponentRef {\n}\nif (false) {\n    /** @type {?} */\n    BsComponentRef.prototype.templateRef;\n    /** @type {?} */\n    BsComponentRef.prototype.viewContainer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass ContentRef {\n    /**\n     * @param {?} nodes\n     * @param {?=} viewRef\n     * @param {?=} componentRef\n     */\n    constructor(\n    /* tslint:disable-next-line: no-any */\n    nodes, viewRef, \n    /* tslint:disable-next-line: no-any */\n    componentRef) {\n        this.nodes = nodes;\n        this.viewRef = viewRef;\n        this.componentRef = componentRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    ContentRef.prototype.nodes;\n    /** @type {?} */\n    ContentRef.prototype.viewRef;\n    /** @type {?} */\n    ContentRef.prototype.componentRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass ComponentLoader {\n    /**\n     * Do not use this directly, it should be instanced via\n     * `ComponentLoadFactory.attach`\n     * \\@internal\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} _elementRef\n     * @param {?} _injector\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _applicationRef\n     * @param {?} _posService\n     */\n    // tslint:disable-next-line\n    constructor(_viewContainerRef, _renderer, _elementRef, _injector, _componentFactoryResolver, _ngZone, _applicationRef, _posService) {\n        this._viewContainerRef = _viewContainerRef;\n        this._renderer = _renderer;\n        this._elementRef = _elementRef;\n        this._injector = _injector;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._applicationRef = _applicationRef;\n        this._posService = _posService;\n        this.onBeforeShow = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onShown = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onBeforeHide = new EventEmitter();\n        this.onHidden = new EventEmitter();\n        this._providers = [];\n        this._isHiding = false;\n        /**\n         * A selector used if container element was not found\n         */\n        this.containerDefaultSelector = 'body';\n        this._listenOpts = {};\n        this._globalListener = Function.prototype;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        if (this._isHiding) {\n            return false;\n        }\n        return !!this._componentRef;\n    }\n    /**\n     * @param {?} compType\n     * @return {?}\n     */\n    attach(compType) {\n        this._componentFactory = this._componentFactoryResolver\n            .resolveComponentFactory(compType);\n        return this;\n    }\n    // todo: add behaviour: to target element, `body`, custom element\n    /**\n     * @param {?=} container\n     * @return {?}\n     */\n    to(container) {\n        this.container = container || this.container;\n        return this;\n    }\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    position(opts) {\n        this.attachment = opts.attachment || this.attachment;\n        /* tslint:disable-next-line: no-unnecessary-type-assertion */\n        this._elementRef = ((/** @type {?} */ (opts.target))) || this._elementRef;\n        return this;\n    }\n    /**\n     * @param {?} provider\n     * @return {?}\n     */\n    provide(provider) {\n        this._providers.push(provider);\n        return this;\n    }\n    // todo: appendChild to element or document.querySelector(this.container)\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    show(opts = {}) {\n        this._subscribePositioning();\n        this._innerComponent = null;\n        if (!this._componentRef) {\n            this.onBeforeShow.emit();\n            this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\n            /** @type {?} */\n            const injector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\n            this._applicationRef.attachView(this._componentRef.hostView);\n            // this._componentRef = this._viewContainerRef\n            //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\n            this.instance = this._componentRef.instance;\n            Object.assign(this._componentRef.instance, opts);\n            if (this.container instanceof ElementRef) {\n                this.container.nativeElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (typeof this.container === 'string' && typeof document !== 'undefined') {\n                /** @type {?} */\n                const selectedElement = document.querySelector(this.container) ||\n                    document.querySelector(this.containerDefaultSelector);\n                selectedElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (!this.container &&\n                this._elementRef &&\n                this._elementRef.nativeElement.parentElement) {\n                this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            // we need to manually invoke change detection since events registered\n            // via\n            // Renderer::listen() are not picked up by change detection with the\n            // OnPush strategy\n            if (this._contentRef.componentRef) {\n                this._innerComponent = this._contentRef.componentRef.instance;\n                this._contentRef.componentRef.changeDetectorRef.markForCheck();\n                this._contentRef.componentRef.changeDetectorRef.detectChanges();\n            }\n            this._componentRef.changeDetectorRef.markForCheck();\n            this._componentRef.changeDetectorRef.detectChanges();\n            this.onShown.emit(this._componentRef.instance);\n        }\n        this._registerOutsideClick();\n        return this._componentRef;\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (!this._componentRef) {\n            return this;\n        }\n        this._posService.deletePositionElement(this._componentRef.location);\n        this.onBeforeHide.emit(this._componentRef.instance);\n        /** @type {?} */\n        const componentEl = this._componentRef.location.nativeElement;\n        componentEl.parentNode.removeChild(componentEl);\n        if (this._contentRef.componentRef) {\n            this._contentRef.componentRef.destroy();\n        }\n        this._componentRef.destroy();\n        if (this._viewContainerRef && this._contentRef.viewRef) {\n            this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        }\n        if (this._contentRef.viewRef) {\n            this._contentRef.viewRef.destroy();\n        }\n        this._contentRef = null;\n        this._componentRef = null;\n        this._removeGlobalListener();\n        this.onHidden.emit();\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    toggle() {\n        if (this.isShown) {\n            this.hide();\n            return;\n        }\n        this.show();\n    }\n    /**\n     * @return {?}\n     */\n    dispose() {\n        if (this.isShown) {\n            this.hide();\n        }\n        this._unsubscribePositioning();\n        if (this._unregisterListenersFn) {\n            this._unregisterListenersFn();\n        }\n    }\n    /**\n     * @param {?} listenOpts\n     * @return {?}\n     */\n    listen(listenOpts) {\n        this.triggers = listenOpts.triggers || this.triggers;\n        this._listenOpts.outsideClick = listenOpts.outsideClick;\n        this._listenOpts.outsideEsc = listenOpts.outsideEsc;\n        listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\n        /** @type {?} */\n        const hide = (this._listenOpts.hide = (/**\n         * @return {?}\n         */\n        () => listenOpts.hide ? listenOpts.hide() : void this.hide()));\n        /** @type {?} */\n        const show = (this._listenOpts.show = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\n            registerHide();\n        }));\n        /** @type {?} */\n        const toggle = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            this.isShown ? hide() : show(registerHide);\n        });\n        this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\n            target: listenOpts.target,\n            triggers: listenOpts.triggers,\n            show,\n            hide,\n            toggle\n        });\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _removeGlobalListener() {\n        if (this._globalListener) {\n            this._globalListener();\n            this._globalListener = null;\n        }\n    }\n    /**\n     * @param {?} vRef\n     * @param {?} template\n     * @return {?}\n     */\n    attachInline(vRef, \n    /* tslint:disable-next-line: no-any*/\n    template) {\n        this._inlineViewRef = vRef.createEmbeddedView(template);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _registerOutsideClick() {\n        if (!this._componentRef || !this._componentRef.location) {\n            return;\n        }\n        // why: should run after first event bubble\n        if (this._listenOpts.outsideClick) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this._globalListener = registerOutsideClick(this._renderer, {\n                    targets: [target, this._elementRef.nativeElement],\n                    outsideClick: this._listenOpts.outsideClick,\n                    hide: (/**\n                     * @return {?}\n                     */\n                    () => this._listenOpts.hide())\n                });\n            }));\n        }\n        if (this._listenOpts.outsideEsc) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            this._globalListener = registerEscClick(this._renderer, {\n                targets: [target, this._elementRef.nativeElement],\n                outsideEsc: this._listenOpts.outsideEsc,\n                hide: (/**\n                 * @return {?}\n                 */\n                () => this._listenOpts.hide())\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getInnerComponent() {\n        return this._innerComponent;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _subscribePositioning() {\n        if (this._zoneSubscription || !this.attachment) {\n            return;\n        }\n        this.onShown.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this._posService.position({\n                element: this._componentRef.location,\n                target: this._elementRef,\n                attachment: this.attachment,\n                appendToBody: this.container === 'body'\n            });\n        }));\n        this._zoneSubscription = this._ngZone.onStable.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            if (!this._componentRef) {\n                return;\n            }\n            this._posService.calcPosition();\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _unsubscribePositioning() {\n        if (!this._zoneSubscription) {\n            return;\n        }\n        this._zoneSubscription.unsubscribe();\n        this._zoneSubscription = null;\n    }\n    /**\n     * @private\n     * @param {?} content\n     * @param {?=} context\n     * @param {?=} initialState\n     * @return {?}\n     */\n    _getContentRef(\n    /* tslint:disable-next-line: no-any*/\n    content, \n    /* tslint:disable-next-line: no-any*/\n    context, \n    /* tslint:disable-next-line: no-any*/\n    initialState) {\n        if (!content) {\n            return new ContentRef([]);\n        }\n        if (content instanceof TemplateRef) {\n            if (this._viewContainerRef) {\n                /** @type {?} */\n                const _viewRef = this._viewContainerRef\n                    .createEmbeddedView(content, context);\n                _viewRef.markForCheck();\n                return new ContentRef([_viewRef.rootNodes], _viewRef);\n            }\n            /** @type {?} */\n            const viewRef = content.createEmbeddedView({});\n            this._applicationRef.attachView(viewRef);\n            return new ContentRef([viewRef.rootNodes], viewRef);\n        }\n        if (typeof content === 'function') {\n            /** @type {?} */\n            const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(content);\n            /** @type {?} */\n            const modalContentInjector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            /** @type {?} */\n            const componentRef = contentCmptFactory.create(modalContentInjector);\n            Object.assign(componentRef.instance, initialState);\n            this._applicationRef.attachView(componentRef.hostView);\n            return new ContentRef([[componentRef.location.nativeElement]], componentRef.hostView, componentRef);\n        }\n        return new ContentRef([[this._renderer.createText(`${content}`)]]);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeShow;\n    /** @type {?} */\n    ComponentLoader.prototype.onShown;\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeHide;\n    /** @type {?} */\n    ComponentLoader.prototype.onHidden;\n    /** @type {?} */\n    ComponentLoader.prototype.instance;\n    /** @type {?} */\n    ComponentLoader.prototype._componentRef;\n    /** @type {?} */\n    ComponentLoader.prototype._inlineViewRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._providers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactory;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._zoneSubscription;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._contentRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._innerComponent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._unregisterListenersFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._isHiding;\n    /**\n     * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.attachment;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.container;\n    /**\n     * A selector used if container element was not found\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.containerDefaultSelector;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.triggers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._listenOpts;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._globalListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._applicationRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._posService;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ComponentLoaderFactory {\n    /**\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _injector\n     * @param {?} _posService\n     * @param {?} _applicationRef\n     */\n    constructor(_componentFactoryResolver, _ngZone, _injector, _posService, _applicationRef) {\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._injector = _injector;\n        this._posService = _posService;\n        this._applicationRef = _applicationRef;\n    }\n    /**\n     *\n     * @template T\n     * @param {?} _elementRef\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @return {?}\n     */\n    createLoader(_elementRef, _viewContainerRef, _renderer) {\n        return new ComponentLoader(_viewContainerRef, _renderer, _elementRef, this._injector, this._componentFactoryResolver, this._ngZone, this._applicationRef, this._posService);\n    }\n}\nComponentLoaderFactory.ɵfac = function ComponentLoaderFactory_Factory(t) { return new (t || ComponentLoaderFactory)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc1.PositioningService), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef)); };\nComponentLoaderFactory.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ComponentLoaderFactory, factory: ComponentLoaderFactory.ɵfac });\n/** @nocollapse */\nComponentLoaderFactory.ctorParameters = () => [\n    { type: ComponentFactoryResolver },\n    { type: NgZone },\n    { type: Injector },\n    { type: PositioningService },\n    { type: ApplicationRef }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ComponentLoaderFactory, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Injector }, { type: ɵngcc1.PositioningService }, { type: ɵngcc0.ApplicationRef }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._posService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._applicationRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsComponentRef, ComponentLoader, ComponentLoaderFactory, ContentRef };\n\n//# sourceMappingURL=ngx-bootstrap-component-loader.js.map","import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\n\nconst _c0 = [\"*\"];\nclass BsModalRef {\n    constructor() {\n        /**\n         * Hides the modal\n         */\n        this.hide = Function;\n        /**\n         * Sets new class to modal window\n         */\n        this.setClass = Function;\n    }\n}\nBsModalRef.ɵfac = function BsModalRef_Factory(t) { return new (t || BsModalRef)(); };\nBsModalRef.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: BsModalRef, factory: BsModalRef.ɵfac });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * Reference to a component inside the modal. Null if modal's been created with TemplateRef\n     * @type {?}\n     */\n    BsModalRef.prototype.content;\n    /**\n     * Hides the modal\n     * @type {?}\n     */\n    BsModalRef.prototype.hide;\n    /**\n     * Sets new class to modal window\n     * @type {?}\n     */\n    BsModalRef.prototype.setClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalBackdropOptions {\n    /**\n     * @param {?} options\n     */\n    constructor(options) {\n        this.animate = true;\n        Object.assign(this, options);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ModalBackdropOptions.prototype.animate;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalOptions {\n}\nModalOptions.ɵfac = function ModalOptions_Factory(t) { return new (t || ModalOptions)(); };\nModalOptions.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ModalOptions, factory: ModalOptions.ɵfac });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n        type: Injectable\n    }], null, null); })();\nif (false) {\n    /**\n     *  Includes a modal-backdrop element. Alternatively,\n     *  specify static for a backdrop which doesn't close the modal on click.\n     * @type {?}\n     */\n    ModalOptions.prototype.backdrop;\n    /**\n     * Closes the modal when escape key is pressed.\n     * @type {?}\n     */\n    ModalOptions.prototype.keyboard;\n    /** @type {?} */\n    ModalOptions.prototype.focus;\n    /**\n     * Shows the modal when initialized.\n     * @type {?}\n     */\n    ModalOptions.prototype.show;\n    /**\n     * Ignore the backdrop click\n     * @type {?}\n     */\n    ModalOptions.prototype.ignoreBackdropClick;\n    /**\n     * Css class for opened modal\n     * @type {?}\n     */\n    ModalOptions.prototype.class;\n    /**\n     * Toggle animation\n     * @type {?}\n     */\n    ModalOptions.prototype.animated;\n    /**\n     * Modal data\n     * @type {?}\n     */\n    ModalOptions.prototype.initialState;\n    /**\n     * Modal providers\n     * @type {?}\n     */\n    ModalOptions.prototype.providers;\n    /**\n     * aria-labelledby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaLabelledBy;\n    /**\n     * aria-describedby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaDescribedby;\n}\n/** @type {?} */\nconst modalConfigDefaults = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: false,\n    ignoreBackdropClick: false,\n    class: '',\n    animated: true,\n    initialState: {}\n};\n/** @type {?} */\nconst CLASS_NAME = {\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n    BACKDROP: 'modal-backdrop',\n    OPEN: 'modal-open',\n    FADE: 'fade',\n    IN: 'in',\n    // bs3\n    SHOW: 'show' // bs4\n};\n/** @type {?} */\nconst SELECTOR = {\n    DIALOG: '.modal-dialog',\n    DATA_TOGGLE: '[data-toggle=\"modal\"]',\n    DATA_DISMISS: '[data-dismiss=\"modal\"]',\n    FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\n};\n/** @type {?} */\nconst TRANSITION_DURATIONS = {\n    MODAL: 300,\n    BACKDROP: 150\n};\n/** @type {?} */\nconst DISMISS_REASONS = {\n    BACKRDOP: 'backdrop-click',\n    ESC: 'esc'\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalContainerComponent {\n    /**\n     * @param {?} options\n     * @param {?} _element\n     * @param {?} _renderer\n     */\n    constructor(options, _element, _renderer) {\n        this._element = _element;\n        this._renderer = _renderer;\n        this.isShown = false;\n        this.isModalHiding = false;\n        this.clickStartedInContent = false;\n        this.config = Object.assign({}, options);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n        }\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = true;\n            this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        }), this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n        if (document && document.body) {\n            if (this.bsModalService.getModalsCount() === 1) {\n                this.bsModalService.checkScrollbar();\n                this.bsModalService.setScrollbar();\n            }\n            this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n        }\n        if (this._element.nativeElement) {\n            this._element.nativeElement.focus();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n        this.hide();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this.isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard &&\n            this.level === this.bsModalService.getModalsCount()) {\n            this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.isShown) {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (this.isModalHiding || !this.isShown) {\n            return;\n        }\n        this.isModalHiding = true;\n        this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = false;\n            if (document &&\n                document.body &&\n                this.bsModalService.getModalsCount() === 1) {\n                this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n            }\n            this.bsModalService.hide(this.level);\n            this.isModalHiding = false;\n        }), this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n    }\n}\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) { return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalContainerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ModalContainerComponent, selectors: [[\"modal-container\"]], hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"], hostVars: 3, hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalContainerComponent_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalContainerComponent_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-modal\", true)(\"aria-labelledby\", ctx.config.ariaLabelledBy)(\"aria-describedby\", ctx.config.ariaDescribedby);\n    } }, ngContentSelectors: _c0, decls: 3, vars: 2, consts: [[\"role\", \"document\"], [1, \"modal-content\"]], template: function ModalContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    } }, encapsulation: 2 });\n/** @nocollapse */\nModalContainerComponent.ctorParameters = () => [\n    { type: ModalOptions },\n    { type: ElementRef },\n    { type: Renderer2 }\n];\nModalContainerComponent.propDecorators = {\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['window:keydown.esc', ['$event'],] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'modal-container',\n                template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n                host: {\n                    class: 'modal',\n                    role: 'dialog',\n                    tabindex: '-1',\n                    '[attr.aria-modal]': 'true',\n                    '[attr.aria-labelledby]': 'config.ariaLabelledBy',\n                    '[attr.aria-describedby]': 'config.ariaDescribedby'\n                }\n            }]\n    }], function () { return [{ type: ModalOptions }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, { onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], onEsc: [{\n            type: HostListener,\n            args: ['window:keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    ModalContainerComponent.prototype.config;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isShown;\n    /** @type {?} */\n    ModalContainerComponent.prototype.level;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isAnimated;\n    /** @type {?} */\n    ModalContainerComponent.prototype.bsModalService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.isModalHiding;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalContainerComponent.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This component will be added as background layout for modals if enabled\n */\nclass ModalBackdropComponent {\n    /**\n     * @param {?} element\n     * @param {?} renderer\n     */\n    constructor(element, renderer) {\n        this._isShown = false;\n        this.element = element;\n        this.renderer = renderer;\n    }\n    /**\n     * @return {?}\n     */\n    get isAnimated() {\n        return this._isAnimated;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isAnimated(value) {\n        this._isAnimated = value;\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isShown(value) {\n        this._isShown = value;\n        if (value) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        else {\n            this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        if (!isBs3()) {\n            if (value) {\n                this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n            else {\n                this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n            Utils.reflow(this.element.nativeElement);\n        }\n        this.isShown = true;\n    }\n}\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) { return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalBackdropComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ModalBackdropComponent, selectors: [[\"bs-modal-backdrop\"]], hostAttrs: [1, \"modal-backdrop\"], decls: 0, vars: 0, template: function ModalBackdropComponent_Template(rf, ctx) { }, encapsulation: 2 });\n/** @nocollapse */\nModalBackdropComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-backdrop',\n                template: ' ',\n                host: { class: CLASS_NAME.BACKDROP }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    ModalBackdropComponent.prototype.element;\n    /** @type {?} */\n    ModalBackdropComponent.prototype.renderer;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isAnimated;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isShown;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\nclass ModalDirective {\n    /**\n     * @param {?} _element\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} clf\n     */\n    constructor(_element, _viewContainerRef, _renderer, clf) {\n        this._element = _element;\n        this._renderer = _renderer;\n        /**\n         * This event fires immediately when the `show` instance method is called.\n         */\n        this.onShow = new EventEmitter();\n        /**\n         * This event is fired when the modal has been made visible to the user\n         * (will wait for CSS transitions to complete)\n         */\n        this.onShown = new EventEmitter();\n        /**\n         * This event is fired immediately when\n         * the hide instance method has been called.\n         */\n        this.onHide = new EventEmitter();\n        /**\n         * This event is fired when the modal has finished being\n         * hidden from the user (will wait for CSS transitions to complete).\n         */\n        this.onHidden = new EventEmitter();\n        this._isShown = false;\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.timerHideModal = 0;\n        this.timerRmBackDrop = 0;\n        this.isNested = false;\n        this.clickStartedInContent = false;\n        this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n    }\n    /**\n     * allows to set modal configuration via element property\n     * @param {?} conf\n     * @return {?}\n     */\n    set config(conf) {\n        this._config = this.getConfig(conf);\n    }\n    /**\n     * @return {?}\n     */\n    get config() {\n        return this._config;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.dismissReason = DISMISS_REASONS.BACKRDOP;\n        this.hide(event);\n    }\n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this._isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard) {\n            this.dismissReason = DISMISS_REASONS.ESC;\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.config = void 0;\n        if (this._isShown) {\n            this._isShown = false;\n            this.hideModal();\n            this._backdrop.dispose();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this._config = this._config || this.getConfig();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.show) {\n                this.show();\n            }\n        }), 0);\n    }\n    /* Public methods */\n    /**\n     * Allows to manually toggle modal visibility\n     * @return {?}\n     */\n    toggle() {\n        return this._isShown ? this.hide() : this.show();\n    }\n    /**\n     * Allows to manually open modal\n     * @return {?}\n     */\n    show() {\n        this.dismissReason = null;\n        this.onShow.emit(this);\n        if (this._isShown) {\n            return;\n        }\n        clearTimeout(this.timerHideModal);\n        clearTimeout(this.timerRmBackDrop);\n        this._isShown = true;\n        this.checkScrollbar();\n        this.setScrollbar();\n        if (document$1 && document$1.body) {\n            if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n                this.isNested = true;\n            }\n            else {\n                this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n            }\n        }\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            this.showElement();\n        }));\n    }\n    /**\n     * Allows to manually close modal\n     * @param {?=} event\n     * @return {?}\n     */\n    hide(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        this.onHide.emit(this);\n        // todo: add an option to prevent hiding\n        if (!this._isShown) {\n            return;\n        }\n        window$1.clearTimeout(this.timerHideModal);\n        window$1.clearTimeout(this.timerRmBackDrop);\n        this._isShown = false;\n        this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        // this._addClassIn = false;\n        if (this._config.animated) {\n            this.timerHideModal = window$1.setTimeout((/**\n             * @return {?}\n             */\n            () => this.hideModal()), TRANSITION_DURATION);\n        }\n        else {\n            this.hideModal();\n        }\n    }\n    /**\n     * Private methods \\@internal\n     * @protected\n     * @param {?=} config\n     * @return {?}\n     */\n    getConfig(config) {\n        return Object.assign({}, modalConfigDefaults, config);\n    }\n    /**\n     *  Show dialog\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    showElement() {\n        // todo: replace this with component loader usage\n        if (!this._element.nativeElement.parentNode ||\n            this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n            // don't move modals dom position\n            if (document$1 && document$1.body) {\n                document$1.body.appendChild(this._element.nativeElement);\n            }\n        }\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n        if (this._config.animated) {\n            Utils.reflow(this._element.nativeElement);\n        }\n        // this._addClassIn = true;\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        /** @type {?} */\n        const transitionComplete = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.focus) {\n                this._element.nativeElement.focus();\n            }\n            this.onShown.emit(this);\n        });\n        if (this._config.animated) {\n            setTimeout(transitionComplete, TRANSITION_DURATION);\n        }\n        else {\n            transitionComplete();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    hideModal() {\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            if (!this.isNested) {\n                if (document$1 && document$1.body) {\n                    this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n                }\n                this.resetScrollbar();\n            }\n            this.resetAdjustments();\n            this.focusOtherModal();\n            this.onHidden.emit(this);\n        }));\n    }\n    // todo: original show was calling a callback when done, but we can use\n    // promise\n    /**\n     * \\@internal\n     * @protected\n     * @param {?=} callback\n     * @return {?}\n     */\n    showBackdrop(callback) {\n        if (this._isShown &&\n            this.config.backdrop &&\n            (!this.backdrop || !this.backdrop.instance.isShown)) {\n            this.removeBackdrop();\n            this._backdrop\n                .attach(ModalBackdropComponent)\n                .to('body')\n                .show({ isAnimated: this._config.animated });\n            this.backdrop = this._backdrop._componentRef;\n            if (!callback) {\n                return;\n            }\n            if (!this._config.animated) {\n                callback();\n                return;\n            }\n            setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n        }\n        else if (!this._isShown && this.backdrop) {\n            this.backdrop.instance.isShown = false;\n            /** @type {?} */\n            const callbackRemove = (/**\n             * @return {?}\n             */\n            () => {\n                this.removeBackdrop();\n                if (callback) {\n                    callback();\n                }\n            });\n            if (this.backdrop.instance.isAnimated) {\n                this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n            }\n            else {\n                callbackRemove();\n            }\n        }\n        else if (callback) {\n            callback();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdrop.hide();\n    }\n    /**\n     * Events tricks\n     * @protected\n     * @return {?}\n     */\n    // no need for it\n    // protected setEscapeEvent():void {\n    //   if (this._isShown && this._config.keyboard) {\n    //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n    //       if (event.which === 27) {\n    //         this.hide()\n    //       }\n    //     })\n    //\n    //   } else if (!this._isShown) {\n    //     $(this._element).off(Event.KEYDOWN_DISMISS)\n    //   }\n    // }\n    // protected setResizeEvent():void {\n    // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n    // if (this._isShown) {\n    //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n    // } else {\n    //   $(window).off(Event.RESIZE)\n    // }\n    // }\n    focusOtherModal() {\n        if (this._element.nativeElement.parentElement == null) {\n            return;\n        }\n        /** @type {?} */\n        const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n        if (!otherOpenedModals.length) {\n            return;\n        }\n        otherOpenedModals[otherOpenedModals.length - 1].focus();\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    resetAdjustments() {\n        this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n        this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n    }\n    /** Scroll bar tricks */\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document$1) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window$1\n            .getComputedStyle(document$1.body)\n            .getPropertyValue('padding-right') || 0, 10);\n        if (this.isBodyOverflowing) {\n            document$1.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    resetScrollbar() {\n        document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @protected\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document$1.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document$1.body, scrollDiv);\n        return scrollbarWidth;\n    }\n}\nModalDirective.ɵfac = function ModalDirective_Factory(t) { return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory)); };\nModalDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ModalDirective, selectors: [[\"\", \"bsModal\", \"\"]], hostBindings: function ModalDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalDirective_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalDirective_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); });\n    } }, inputs: { config: \"config\" }, outputs: { onShow: \"onShow\", onShown: \"onShown\", onHide: \"onHide\", onHidden: \"onHidden\" }, exportAs: [\"bs-modal\"] });\n/** @nocollapse */\nModalDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: Renderer2 },\n    { type: ComponentLoaderFactory }\n];\nModalDirective.propDecorators = {\n    config: [{ type: Input }],\n    onShow: [{ type: Output }],\n    onShown: [{ type: Output }],\n    onHide: [{ type: Output }],\n    onHidden: [{ type: Output }],\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['keydown.esc', ['$event'],] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsModal]',\n                exportAs: 'bs-modal'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, { onShow: [{\n            type: Output\n        }], onShown: [{\n            type: Output\n        }], onHide: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], config: [{\n            type: Input\n        }], onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], onEsc: [{\n            type: HostListener,\n            args: ['keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onShow;\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     * @type {?}\n     */\n    ModalDirective.prototype.onShown;\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onHide;\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     * @type {?}\n     */\n    ModalDirective.prototype.onHidden;\n    /**\n     * This field contains last dismiss reason.\n     * Possible values: `backdrop-click`, `esc` and `null`\n     * (if modal was closed by direct call of `.hide()`).\n     * @type {?}\n     */\n    ModalDirective.prototype.dismissReason;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._config;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._isShown;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerHideModal;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerRmBackDrop;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.isNested;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsModalService {\n    /**\n     * @param {?} rendererFactory\n     * @param {?} clf\n     */\n    constructor(rendererFactory, clf) {\n        this.clf = clf;\n        // constructor props\n        this.config = modalConfigDefaults;\n        // tslint:disable-next-line:no-any\n        this.onShow = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onShown = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHide = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHidden = new EventEmitter();\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.modalsCount = 0;\n        this.lastDismissReason = '';\n        this.loaders = [];\n        this._backdropLoader = this.clf.createLoader(null, null, null);\n        this._renderer = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * Shows a modal\n     * @param {?} content\n     * @param {?=} config\n     * @return {?}\n     */\n    // tslint:disable-next-line:no-any\n    show(content, config) {\n        this.modalsCount++;\n        this._createLoaders();\n        this.config = Object.assign({}, modalConfigDefaults, config);\n        this._showBackdrop();\n        this.lastDismissReason = null;\n        return this._showModal(content);\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    hide(level) {\n        if (this.modalsCount === 1) {\n            this._hideBackdrop();\n            this.resetScrollbar();\n        }\n        this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this._hideModal(level);\n            this.removeLoaders(level);\n        }), this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    }\n    /**\n     * @return {?}\n     */\n    _showBackdrop() {\n        /** @type {?} */\n        const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n        /** @type {?} */\n        const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n        if (this.modalsCount === 1) {\n            this.removeBackdrop();\n            if (isBackdropEnabled && isBackdropInDOM) {\n                this._backdropLoader\n                    .attach(ModalBackdropComponent)\n                    .to('body')\n                    .show({ isAnimated: this.config.animated });\n                this.backdropRef = this._backdropLoader._componentRef;\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _hideBackdrop() {\n        if (!this.backdropRef) {\n            return;\n        }\n        this.backdropRef.instance.isShown = false;\n        /** @type {?} */\n        const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => this.removeBackdrop()), duration);\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n    _showModal(content) {\n        /** @type {?} */\n        const modalLoader = this.loaders[this.loaders.length - 1];\n        if (this.config && this.config.providers) {\n            for (const provider of this.config.providers) {\n                modalLoader.provide(provider);\n            }\n        }\n        /** @type {?} */\n        const bsModalRef = new BsModalRef();\n        /** @type {?} */\n        const modalContainerRef = modalLoader\n            .provide({ provide: ModalOptions, useValue: this.config })\n            .provide({ provide: BsModalRef, useValue: bsModalRef })\n            .attach(ModalContainerComponent)\n            .to('body')\n            .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\n        modalContainerRef.instance.level = this.getModalsCount();\n        bsModalRef.hide = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            const duration = this.config.animated ? TRANSITION_DURATIONS.MODAL : 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => modalContainerRef.instance.hide()), duration);\n        });\n        bsModalRef.content = modalLoader.getInnerComponent() || null;\n        bsModalRef.setClass = (/**\n         * @param {?} newClass\n         * @return {?}\n         */\n        (newClass) => {\n            modalContainerRef.instance.config.class = newClass;\n        });\n        return bsModalRef;\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    _hideModal(level) {\n        /** @type {?} */\n        const modalLoader = this.loaders[level - 1];\n        if (modalLoader) {\n            modalLoader.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getModalsCount() {\n        return this.modalsCount;\n    }\n    /**\n     * @param {?} reason\n     * @return {?}\n     */\n    setDismissReason(reason) {\n        this.lastDismissReason = reason;\n    }\n    /**\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdropLoader.hide();\n        this.backdropRef = null;\n    }\n    /** Checks if the body is overflowing and sets scrollbar width */\n    /**\n     * \\@internal\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window\n            .getComputedStyle(document.body)\n            .getPropertyValue('padding-right') || '0', 10);\n        if (this.isBodyOverflowing) {\n            document.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resetScrollbar() {\n        document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document.body, scrollDiv);\n        return scrollbarWidth;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _createLoaders() {\n        /** @type {?} */\n        const loader = this.clf.createLoader(null, null, null);\n        this.copyEvent(loader.onBeforeShow, this.onShow);\n        this.copyEvent(loader.onShown, this.onShown);\n        this.copyEvent(loader.onBeforeHide, this.onHide);\n        this.copyEvent(loader.onHidden, this.onHidden);\n        this.loaders.push(loader);\n    }\n    /**\n     * @private\n     * @param {?} level\n     * @return {?}\n     */\n    removeLoaders(level) {\n        this.loaders.splice(level - 1, 1);\n        this.loaders.forEach((/**\n         * @param {?} loader\n         * @param {?} i\n         * @return {?}\n         */\n        (loader, i) => {\n            loader.instance.level = i + 1;\n        }));\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @private\n     * @param {?} from\n     * @param {?} to\n     * @return {?}\n     */\n    copyEvent(from, to) {\n        from.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            to.emit(this.lastDismissReason);\n        }));\n    }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) { return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory)); };\nBsModalService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: BsModalService, factory: BsModalService.ɵfac });\n/** @nocollapse */\nBsModalService.ctorParameters = () => [\n    { type: RendererFactory2 },\n    { type: ComponentLoaderFactory }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.RendererFactory2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    BsModalService.prototype.config;\n    /** @type {?} */\n    BsModalService.prototype.onShow;\n    /** @type {?} */\n    BsModalService.prototype.onShown;\n    /** @type {?} */\n    BsModalService.prototype.onHide;\n    /** @type {?} */\n    BsModalService.prototype.onHidden;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.backdropRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._backdropLoader;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.modalsCount;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.lastDismissReason;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.loaders;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.clf;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n    /**\n     * @return {?}\n     */\n    static forChild() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n}\nModalModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ModalModule });\nModalModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ModalModule_Factory(t) { return new (t || ModalModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, { declarations: [ModalBackdropComponent,\n        ModalDirective,\n        ModalContainerComponent], exports: [ModalBackdropComponent,\n        ModalDirective] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ModalBackdropComponent,\n                    ModalDirective,\n                    ModalContainerComponent\n                ],\n                exports: [ModalBackdropComponent, ModalDirective],\n                entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };\n\n//# sourceMappingURL=ngx-bootstrap-modal.js.map","import { Injectable, NgZone, RendererFactory2, Inject, PLATFORM_ID, ElementRef } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, merge, fromEvent, of, animationFrameScheduler } from 'rxjs';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get CSS computed property of the given element\n * @param {?} element\n * @param {?=} property\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction getStyleComputedProperty(element, property) {\n    if (element.nodeType !== 1) {\n        return [];\n    }\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const css = window.getComputedStyle(element, null);\n    return property ? css[(/** @type {?} */ (property))] : css;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Returns the parentNode or the host of the element\n * @param {?} element\n * @return {?}\n */\nfunction getParentNode(element) {\n    if (element.nodeName === 'HTML') {\n        return element;\n    }\n    return element.parentNode || element.host;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getScrollParent(element) {\n    // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n    if (!element) {\n        return document.body;\n    }\n    switch (element.nodeName) {\n        case 'HTML':\n        case 'BODY':\n            return element.ownerDocument.body;\n        case '#document':\n            return element.body;\n        default:\n    }\n    // Firefox want us to check `-x` and `-y` variations as well\n    const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n    if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\n        return element;\n    }\n    return getScrollParent(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isIE11 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && ((/** @type {?} */ (document))).documentMode);\n/** @type {?} */\nconst isIE10 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && /MSIE 10/.test(((/** @type {?} */ (navigator))).userAgent));\n/**\n * @param {?=} version\n * @return {?}\n */\nfunction isIE(version) {\n    if (version === 11) {\n        return isIE11;\n    }\n    if (version === 10) {\n        return isIE10;\n    }\n    return isIE11 || isIE10;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getOffsetParent(element) {\n    if (!element) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    const noOffsetParent = isIE(10) ? document.body : null;\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let offsetParent = element.offsetParent || null;\n    // Skip hidden elements which don't have an offsetParent\n    /** @type {?} */\n    let sibling;\n    while (offsetParent === noOffsetParent\n        && element.nextElementSibling\n        && sibling !== element.nextElementSibling) {\n        sibling = element.nextElementSibling;\n        offsetParent = sibling.offsetParent;\n    }\n    /** @type {?} */\n    const nodeName = offsetParent && offsetParent.nodeName;\n    if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n        return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\n    }\n    // .offsetParent will return the closest TH, TD or TABLE in case\n    if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n        getStyleComputedProperty(offsetParent, 'position') === 'static') {\n        return getOffsetParent(offsetParent);\n    }\n    return offsetParent;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isOffsetContainer(element) {\n    const { nodeName } = element;\n    if (nodeName === 'BODY') {\n        return false;\n    }\n    return (nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @param {?} node\n * @return {?}\n */\nfunction getRoot(node) {\n    if (node.parentNode !== null) {\n        return getRoot(node.parentNode);\n    }\n    return node;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element1\n * @param {?} element2\n * @return {?}\n */\nfunction findCommonOffsetParent(element1, element2) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n        return document.documentElement;\n    }\n    // Here we make sure to give as \"start\" the element that comes first in the DOM\n    /* tslint:disable-next-line: no-bitwise */\n    /** @type {?} */\n    const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n    /** @type {?} */\n    const start = order ? element1 : element2;\n    /** @type {?} */\n    const end = order ? element2 : element1;\n    // Get common ancestor container\n    /** @type {?} */\n    const range = document.createRange();\n    range.setStart(start, 0);\n    range.setEnd(end, 0);\n    const { commonAncestorContainer } = range;\n    // Both nodes are inside #document\n    if ((element1 !== commonAncestorContainer &&\n        element2 !== commonAncestorContainer) ||\n        start.contains(end)) {\n        if (isOffsetContainer(commonAncestorContainer)) {\n            return commonAncestorContainer;\n        }\n        return getOffsetParent(commonAncestorContainer);\n    }\n    // one of the nodes is inside shadowDOM, find which one\n    /** @type {?} */\n    const element1root = getRoot(element1);\n    if (element1root.host) {\n        return findCommonOffsetParent(element1root.host, element2);\n    }\n    else {\n        return findCommonOffsetParent(element1, getRoot(element2).host);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper to detect borders of a given element\n */\n/**\n * @param {?} styles\n * @param {?} axis\n * @return {?}\n */\nfunction getBordersSize(styles, axis) {\n    /** @type {?} */\n    const sideA = axis === 'x' ? 'Left' : 'Top';\n    /** @type {?} */\n    const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n    return (parseFloat(styles[(/** @type {?} */ (`border${sideA}Width`))]) +\n        parseFloat(styles[(/** @type {?} */ (`border${sideB}Width`))]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} axis\n * @param {?} body\n * @param {?} html\n * @param {?} computedStyle\n * @return {?}\n */\nfunction getSize(axis, body, html, computedStyle) {\n    return Math.max(((/** @type {?} */ (body)))[`offset${axis}`], ((/** @type {?} */ (body)))[`scroll${axis}`], ((/** @type {?} */ (html)))[`client${axis}`], ((/** @type {?} */ (html)))[`offset${axis}`], ((/** @type {?} */ (html)))[`scroll${axis}`], isIE(10)\n        ? (parseInt(((/** @type {?} */ (html)))[`offset${axis}`], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Top' : 'Left'}`))], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Bottom' : 'Right'}`))], 10))\n        : 0);\n}\n/**\n * @param {?} document\n * @return {?}\n */\nfunction getWindowSizes(document) {\n    /** @type {?} */\n    const body = document.body;\n    /** @type {?} */\n    const html = document.documentElement;\n    /** @type {?} */\n    const computedStyle = isIE(10) && getComputedStyle(html);\n    return {\n        height: getSize('Height', body, html, computedStyle),\n        width: getSize('Width', body, html, computedStyle)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @param {?} element\n * @param {?=} side\n * @return {?}\n */\nfunction getScroll(element, side = 'top') {\n    /** @type {?} */\n    const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        /** @type {?} */\n        const html = element.ownerDocument.documentElement;\n        /** @type {?} */\n        const scrollingElement = element.ownerDocument.scrollingElement || html;\n        return scrollingElement[upperSide];\n    }\n    return element[upperSide];\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} offsets\n * @return {?}\n */\nfunction getClientRect(offsets) {\n    return Object.assign({}, offsets, { right: offsets.left + offsets.width, bottom: offsets.top + offsets.height });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getBoundingClientRect(element) {\n    /** @type {?} */\n    let rect = {};\n    // IE10 10 FIX: Please, don't ask, the element isn't\n    // considered in DOM in some circumstances...\n    // This isn't reproducible in IE10 compatibility mode of IE11\n    try {\n        if (isIE(10)) {\n            rect = element.getBoundingClientRect();\n            /** @type {?} */\n            const scrollTop = getScroll(element, 'top');\n            /** @type {?} */\n            const scrollLeft = getScroll(element, 'left');\n            rect.top += scrollTop;\n            rect.left += scrollLeft;\n            rect.bottom += scrollTop;\n            rect.right += scrollLeft;\n        }\n        else {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    catch (e) {\n        return undefined;\n    }\n    /** @type {?} */\n    const result = {\n        left: rect.left,\n        top: rect.top,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n    };\n    // subtract scrollbar size from sizes\n    /** @type {?} */\n    const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n    /** @type {?} */\n    const width = sizes.width || element.clientWidth || result.right - result.left;\n    /** @type {?} */\n    const height = sizes.height || element.clientHeight || result.bottom - result.top;\n    /** @type {?} */\n    let horizScrollbar = element.offsetWidth - width;\n    /** @type {?} */\n    let vertScrollbar = element.offsetHeight - height;\n    // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n    // we make this check conditional for performance reasons\n    if (horizScrollbar || vertScrollbar) {\n        /** @type {?} */\n        const styles = getStyleComputedProperty(element);\n        horizScrollbar -= getBordersSize(styles, 'x');\n        vertScrollbar -= getBordersSize(styles, 'y');\n        result.width -= horizScrollbar;\n        result.height -= vertScrollbar;\n    }\n    return getClientRect(result);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} rect\n * @param {?} element\n * @param {?=} subtract\n * @return {?}\n */\nfunction includeScroll(rect, element, subtract = false) {\n    /** @type {?} */\n    const scrollTop = getScroll(element, 'top');\n    /** @type {?} */\n    const scrollLeft = getScroll(element, 'left');\n    /** @type {?} */\n    const modifier = subtract ? -1 : 1;\n    rect.top += scrollTop * modifier;\n    rect.bottom += scrollTop * modifier;\n    rect.left += scrollLeft * modifier;\n    rect.right += scrollLeft * modifier;\n    return rect;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} children\n * @param {?} parent\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n    /** @type {?} */\n    const isIE10 = isIE(10);\n    /** @type {?} */\n    const isHTML = parent.nodeName === 'HTML';\n    /** @type {?} */\n    const childrenRect = getBoundingClientRect(children);\n    /** @type {?} */\n    const parentRect = getBoundingClientRect(parent);\n    /** @type {?} */\n    const scrollParent = getScrollParent(children);\n    /** @type {?} */\n    const styles = getStyleComputedProperty(parent);\n    /** @type {?} */\n    const borderTopWidth = parseFloat(styles.borderTopWidth);\n    /** @type {?} */\n    const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n    // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n    if (fixedPosition && isHTML) {\n        parentRect.top = Math.max(parentRect.top, 0);\n        parentRect.left = Math.max(parentRect.left, 0);\n    }\n    /** @type {?} */\n    let offsets = getClientRect({\n        top: childrenRect.top - parentRect.top - borderTopWidth,\n        left: childrenRect.left - parentRect.left - borderLeftWidth,\n        width: childrenRect.width,\n        height: childrenRect.height\n    });\n    offsets.marginTop = 0;\n    offsets.marginLeft = 0;\n    // Subtract margins of documentElement in case it's being used as parent\n    // we do this only on HTML because it's the only element that behaves\n    // differently when margins are applied to it. The margins are included in\n    // the box of the documentElement, in the other cases not.\n    if (!isIE10 && isHTML) {\n        /** @type {?} */\n        const marginTop = parseFloat(styles.marginTop);\n        /** @type {?} */\n        const marginLeft = parseFloat(styles.marginLeft);\n        offsets.top -= borderTopWidth - marginTop;\n        offsets.bottom -= borderTopWidth - marginTop;\n        offsets.left -= borderLeftWidth - marginLeft;\n        offsets.right -= borderLeftWidth - marginLeft;\n        // Attach marginTop and marginLeft because in some circumstances we may need them\n        offsets.marginTop = marginTop;\n        offsets.marginLeft = marginLeft;\n    }\n    if (isIE10 && !fixedPosition\n        ? parent.contains(scrollParent)\n        : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n        offsets = includeScroll(offsets, parent);\n    }\n    return offsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?=} excludeScroll\n * @return {?}\n */\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n    /** @type {?} */\n    const html = element.ownerDocument.documentElement;\n    /** @type {?} */\n    const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n    /** @type {?} */\n    const width = Math.max(html.clientWidth, window.innerWidth || 0);\n    /** @type {?} */\n    const height = Math.max(html.clientHeight, window.innerHeight || 0);\n    /** @type {?} */\n    const scrollTop = !excludeScroll ? getScroll(html) : 0;\n    /** @type {?} */\n    const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n    /** @type {?} */\n    const offset = {\n        top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\n        left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\n        width,\n        height\n    };\n    return getClientRect(offset);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isFixed(element) {\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        return false;\n    }\n    if (getStyleComputedProperty(element, 'position') === 'fixed') {\n        return true;\n    }\n    return isFixed(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getFixedPositionOffsetParent(element) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element || !element.parentElement || isIE()) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    let el = element.parentElement;\n    while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n        el = el.parentElement;\n    }\n    return el || document.documentElement;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} padding\n * @param {?=} boundariesElement\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getBoundaries(target, host, padding = 0, boundariesElement, fixedPosition = false) {\n    // NOTE: 1 DOM access here\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let boundaries = { top: 0, left: 0 };\n    /** @type {?} */\n    const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\n    // Handle viewport case\n    if (boundariesElement === 'viewport') {\n        boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n    }\n    else {\n        // Handle other cases based on DOM element used as boundaries\n        /** @type {?} */\n        let boundariesNode;\n        if (boundariesElement === 'scrollParent') {\n            boundariesNode = getScrollParent(getParentNode(host));\n            if (boundariesNode.nodeName === 'BODY') {\n                boundariesNode = target.ownerDocument.documentElement;\n            }\n        }\n        else if (boundariesElement === 'window') {\n            boundariesNode = target.ownerDocument.documentElement;\n        }\n        else {\n            boundariesNode = boundariesElement;\n        }\n        /** @type {?} */\n        const offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n        // In case of HTML, we need a different computation\n        if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n            const { height, width } = getWindowSizes(target.ownerDocument);\n            boundaries.top += offsets.top - offsets.marginTop;\n            boundaries.bottom = Number(height) + Number(offsets.top);\n            boundaries.left += offsets.left - offsets.marginLeft;\n            boundaries.right = Number(width) + Number(offsets.left);\n        }\n        else {\n            // for all the other DOM elements, this one is good\n            boundaries = offsets;\n        }\n    }\n    // Add paddings\n    boundaries.left += padding;\n    boundaries.top += padding;\n    boundaries.right -= padding;\n    boundaries.bottom -= padding;\n    return boundaries;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getArea({ width, height }) {\n    return width * height;\n}\n/**\n * @param {?} placement\n * @param {?} refRect\n * @param {?} target\n * @param {?} host\n * @param {?=} allowedPositions\n * @param {?=} boundariesElement\n * @param {?=} padding\n * @return {?}\n */\nfunction computeAutoPlacement(placement, refRect, target, host, allowedPositions = ['top', 'bottom', 'right', 'left'], boundariesElement = 'viewport', padding = 0) {\n    if (placement.indexOf('auto') === -1) {\n        return placement;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(target, host, padding, boundariesElement);\n    /** @type {?} */\n    const rects = {\n        top: {\n            width: boundaries.width,\n            height: refRect.top - boundaries.top\n        },\n        right: {\n            width: boundaries.right - refRect.right,\n            height: boundaries.height\n        },\n        bottom: {\n            width: boundaries.width,\n            height: boundaries.bottom - refRect.bottom\n        },\n        left: {\n            width: refRect.left - boundaries.left,\n            height: boundaries.height\n        }\n    };\n    /** @type {?} */\n    const sortedAreas = Object.keys(rects)\n        .map((/**\n     * @param {?} key\n     * @return {?}\n     */\n    key => (Object.assign({ key }, rects[key], { area: getArea(rects[key]) }))))\n        .sort((/**\n     * @param {?} a\n     * @param {?} b\n     * @return {?}\n     */\n    (a, b) => b.area - a.area));\n    /** @type {?} */\n    let filteredAreas = sortedAreas.filter((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ width, height }) => {\n        return width >= target.clientWidth\n            && height >= target.clientHeight;\n    }));\n    filteredAreas = filteredAreas.filter((/**\n     * @param {?} position\n     * @return {?}\n     */\n    (position) => {\n        return allowedPositions\n            .some((/**\n         * @param {?} allowedPosition\n         * @return {?}\n         */\n        (allowedPosition) => {\n            return allowedPosition === position.key;\n        }));\n    }));\n    /** @type {?} */\n    const computedPlacement = filteredAreas.length > 0\n        ? filteredAreas[0].key\n        : sortedAreas[0].key;\n    /** @type {?} */\n    const variation = placement.split(' ')[1];\n    // for tooltip on auto position\n    target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${computedPlacement}`);\n    return computedPlacement + (variation ? `-${variation}` : '');\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction getOffsets(data) {\n    return {\n        width: data.offsets.target.width,\n        height: data.offsets.target.height,\n        left: Math.floor(data.offsets.target.left),\n        top: Math.round(data.offsets.target.top),\n        bottom: Math.round(data.offsets.target.bottom),\n        right: Math.floor(data.offsets.target.right)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement of the given one\n * @param {?} placement\n * @return {?}\n */\nfunction getOppositePlacement(placement) {\n    /** @type {?} */\n    const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n    return placement.replace(/left|right|bottom|top/g, (/**\n     * @param {?} matched\n     * @return {?}\n     */\n    matched => ((/** @type {?} */ (hash)))[matched]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement variation of the given one\n * @param {?} variation\n * @return {?}\n */\nfunction getOppositeVariation(variation) {\n    if (variation === 'right') {\n        return 'left';\n    }\n    else if (variation === 'left') {\n        return 'right';\n    }\n    return variation;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @param {?} element\n * @return {?}\n */\nfunction getOuterSizes(element) {\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const styles = window.getComputedStyle(element);\n    /** @type {?} */\n    const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n    /** @type {?} */\n    const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n    return {\n        width: Number(element.offsetWidth) + y,\n        height: Number(element.offsetHeight) + x\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getReferenceOffsets(target, host, fixedPosition = null) {\n    /** @type {?} */\n    const commonOffsetParent = fixedPosition\n        ? getFixedPositionOffsetParent(target)\n        : findCommonOffsetParent(target, host);\n    return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} hostOffsets\n * @param {?} position\n * @return {?}\n */\nfunction getTargetOffsets(target, hostOffsets, position) {\n    /** @type {?} */\n    const placement = position.split(' ')[0];\n    // Get target node sizes\n    /** @type {?} */\n    const targetRect = getOuterSizes(target);\n    // Add position, width and height to our offsets object\n    /** @type {?} */\n    const targetOffsets = {\n        width: targetRect.width,\n        height: targetRect.height\n    };\n    // depending by the target placement we have to compute its offsets slightly differently\n    /** @type {?} */\n    const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n    /** @type {?} */\n    const mainSide = isHoriz ? 'top' : 'left';\n    /** @type {?} */\n    const secondarySide = isHoriz ? 'left' : 'top';\n    /** @type {?} */\n    const measurement = isHoriz ? 'height' : 'width';\n    /** @type {?} */\n    const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n    ((/** @type {?} */ (targetOffsets)))[mainSide] =\n        hostOffsets[mainSide] +\n            hostOffsets[measurement] / 2 -\n            targetRect[measurement] / 2;\n    ((/** @type {?} */ (targetOffsets)))[secondarySide] = placement === secondarySide\n        ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\n        : ((/** @type {?} */ (hostOffsets)))[getOppositePlacement(secondarySide)];\n    return targetOffsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper used to know if the given modifier is enabled.\n * @param {?} options\n * @param {?} modifierName\n * @return {?}\n */\nfunction isModifierEnabled(options, modifierName) {\n    return options\n        && options.modifiers\n        && options.modifiers[modifierName]\n        && options.modifiers[modifierName].enabled;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Tells if a given input is a number\n * @param {?} n\n * @return {?}\n */\nfunction isNumeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @param {?=} renderer\n * @return {?}\n */\nfunction updateContainerClass(data, renderer) {\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    let containerClass = target.className;\n    if (data.placementAuto) {\n        containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\n        containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\n        containerClass = containerClass.replace(/\\sauto/g, ` ${data.placement}`);\n        if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\n            containerClass += ' popover-auto';\n        }\n        if (containerClass.indexOf('tooltip') !== -1 && containerClass.indexOf('tooltip-auto') === -1) {\n            containerClass += ' tooltip-auto';\n        }\n    }\n    containerClass = containerClass.replace(/left|right|top|bottom/g, `${data.placement.split(' ')[0]}`);\n    if (renderer) {\n        renderer.setAttribute(target, 'class', containerClass);\n        return;\n    }\n    target.className = containerClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?} styles\n * @param {?=} renderer\n * @return {?}\n */\nfunction setStyles(element, styles, renderer) {\n    Object.keys(styles).forEach((/**\n     * @param {?} prop\n     * @return {?}\n     */\n    (prop) => {\n        /** @type {?} */\n        let unit = '';\n        // add unit if the value is numeric and is one of the following\n        if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\n            isNumeric(styles[prop])) {\n            unit = 'px';\n        }\n        if (renderer) {\n            renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\n            return;\n        }\n        element.style[prop] = String(styles[prop]) + unit;\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction arrow(data) {\n    /** @type {?} */\n    let targetOffsets = data.offsets.target;\n    // if arrowElement is a string, suppose it's a CSS selector\n    /** @type {?} */\n    const arrowElement = data.instance.target.querySelector('.arrow');\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n        return data;\n    }\n    /** @type {?} */\n    const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\n    /** @type {?} */\n    const len = isVertical ? 'height' : 'width';\n    /** @type {?} */\n    const sideCapitalized = isVertical ? 'Top' : 'Left';\n    /** @type {?} */\n    const side = sideCapitalized.toLowerCase();\n    /** @type {?} */\n    const altSide = isVertical ? 'left' : 'top';\n    /** @type {?} */\n    const opSide = isVertical ? 'bottom' : 'right';\n    /** @type {?} */\n    const arrowElementSize = getOuterSizes(arrowElement)[len];\n    /** @type {?} */\n    const placementVariation = data.placement.split(' ')[1];\n    // top/left side\n    if (data.offsets.host[opSide] - arrowElementSize < ((/** @type {?} */ (targetOffsets)))[side]) {\n        ((/** @type {?} */ (targetOffsets)))[side] -=\n            ((/** @type {?} */ (targetOffsets)))[side] - (data.offsets.host[opSide] - arrowElementSize);\n    }\n    // bottom/right side\n    if (Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) > ((/** @type {?} */ (targetOffsets)))[opSide]) {\n        ((/** @type {?} */ (targetOffsets)))[side] +=\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) - Number(((/** @type {?} */ (targetOffsets)))[opSide]);\n    }\n    targetOffsets = getClientRect(targetOffsets);\n    // Compute the sideValue using the updated target offsets\n    // take target margin in account because we don't have this info available\n    /** @type {?} */\n    const css = getStyleComputedProperty(data.instance.target);\n    /** @type {?} */\n    const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\n    /** @type {?} */\n    const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\n    // compute center of the target\n    /** @type {?} */\n    let center;\n    if (!placementVariation) {\n        center = Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\n    }\n    else {\n        /** @type {?} */\n        const targetBorderRadius = parseFloat(css.borderRadius);\n        /** @type {?} */\n        const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\n        center = side === placementVariation ?\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + targetSideArrowOffset :\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\n    }\n    /** @type {?} */\n    let sideValue = center - ((/** @type {?} */ (targetOffsets)))[side] - targetMarginSide - targetBorderSide;\n    // prevent arrowElement from being placed not contiguously to its target\n    sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\n    data.offsets.arrow = {\n        [side]: Math.round(sideValue),\n        [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\n    };\n    data.instance.arrow = arrowElement;\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction flip(data) {\n    data.offsets.target = getClientRect(data.offsets.target);\n    if (!isModifierEnabled(data.options, 'flip')) {\n        data.offsets.target = Object.assign({}, data.offsets.target, getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        return data;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'viewport', false // positionFixed\n    );\n    /** @type {?} */\n    let placement = data.placement.split(' ')[0];\n    /** @type {?} */\n    let variation = data.placement.split(' ')[1] || '';\n    /** @type {?} */\n    const offsetsHost = data.offsets.host;\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    const host = data.instance.host;\n    /** @type {?} */\n    const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\n    /** @type {?} */\n    const flipOrder = [placement, adaptivePosition];\n    /* tslint:disable-next-line: cyclomatic-complexity */\n    flipOrder.forEach((/**\n     * @param {?} step\n     * @param {?} index\n     * @return {?}\n     */\n    (step, index) => {\n        if (placement !== step || flipOrder.length === index + 1) {\n            return data;\n        }\n        placement = data.placement.split(' ')[0];\n        // using floor because the host offsets may contain decimals we are not going to consider here\n        /** @type {?} */\n        const overlapsRef = (placement === 'left' &&\n            Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\n            (placement === 'right' &&\n                Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\n            (placement === 'top' &&\n                Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\n            (placement === 'bottom' &&\n                Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\n        /** @type {?} */\n        const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\n        /** @type {?} */\n        const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\n        /** @type {?} */\n        const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\n        /** @type {?} */\n        const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\n        /** @type {?} */\n        const overflowsBoundaries = (placement === 'left' && overflowsLeft) ||\n            (placement === 'right' && overflowsRight) ||\n            (placement === 'top' && overflowsTop) ||\n            (placement === 'bottom' && overflowsBottom);\n        // flip the variation if required\n        /** @type {?} */\n        const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n        /** @type {?} */\n        const flippedVariation = ((isVertical && variation === 'left' && overflowsLeft) ||\n            (isVertical && variation === 'right' && overflowsRight) ||\n            (!isVertical && variation === 'left' && overflowsTop) ||\n            (!isVertical && variation === 'right' && overflowsBottom));\n        if (overlapsRef || overflowsBoundaries || flippedVariation) {\n            if (overlapsRef || overflowsBoundaries) {\n                placement = flipOrder[index + 1];\n            }\n            if (flippedVariation) {\n                variation = getOppositeVariation(variation);\n            }\n            data.placement = placement + (variation ? ` ${variation}` : '');\n            data.offsets.target = Object.assign({}, data.offsets.target, getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        }\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} targetElement\n * @param {?} hostElement\n * @param {?} position\n * @param {?} options\n * @return {?}\n */\nfunction initData(targetElement, hostElement, position, options) {\n    /** @type {?} */\n    const hostElPosition = getReferenceOffsets(targetElement, hostElement);\n    if (!position.match(/^(auto)*\\s*(left|right|top|bottom)*$/)\n        && !position.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\\s*(start|end)*$/)) {\n        /* tslint:disable-next-line: no-parameter-reassignment */\n        position = 'auto';\n    }\n    /** @type {?} */\n    const placementAuto = !!position.match(/auto/g);\n    // support old placements 'auto left|right|top|bottom'\n    /** @type {?} */\n    let placement = position.match(/auto\\s(left|right|top|bottom)/)\n        ? position.split(' ')[1] || 'auto'\n        : position;\n    // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\n    /** @type {?} */\n    const matches = placement.match(/^(left|right|top|bottom)* ?(?!\\1)(left|right|top|bottom)?/);\n    if (matches) {\n        placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\n    }\n    // \"left right\", \"top bottom\" etc. placements also considered incorrect.\n    if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\n        placement = 'auto';\n    }\n    /** @type {?} */\n    const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\n    placement = computeAutoPlacement(placement, hostElPosition, targetElement, hostElement, options ? options.allowedPositions : undefined);\n    return {\n        options,\n        instance: {\n            target: targetElement,\n            host: hostElement,\n            arrow: null\n        },\n        offsets: {\n            target: targetOffset,\n            host: hostElPosition,\n            arrow: null\n        },\n        positionFixed: false,\n        placement,\n        placementAuto\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction preventOverflow(data) {\n    if (!isModifierEnabled(data.options, 'preventOverflow')) {\n        return data;\n    }\n    // NOTE: DOM access here\n    // resets the targetOffsets's position so that the document size can be calculated excluding\n    // the size of the targetOffsets element itself\n    /** @type {?} */\n    const transformProp = 'transform';\n    /** @type {?} */\n    const targetStyles = data.instance.target.style;\n    // assignment to help minification\n    const { top, left, [transformProp]: transform } = targetStyles;\n    targetStyles.top = '';\n    targetStyles.left = '';\n    targetStyles[transformProp] = '';\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'scrollParent', false // positionFixed\n    );\n    // NOTE: DOM access here\n    // restores the original style properties after the offsets have been computed\n    targetStyles.top = top;\n    targetStyles.left = left;\n    targetStyles[transformProp] = transform;\n    /** @type {?} */\n    const order = ['left', 'right', 'top', 'bottom'];\n    /** @type {?} */\n    const check = {\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        primary(placement) {\n            /** @type {?} */\n            let value = ((/** @type {?} */ (data))).offsets.target[placement];\n            if (((/** @type {?} */ (data))).offsets.target[placement] < boundaries[placement] &&\n                !false // options.escapeWithReference\n            ) {\n                value = Math.max(((/** @type {?} */ (data))).offsets.target[placement], boundaries[placement]);\n            }\n            return { [placement]: value };\n        },\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        secondary(placement) {\n            /** @type {?} */\n            const mainSide = placement === 'right' ? 'left' : 'top';\n            /** @type {?} */\n            let value = data.offsets.target[mainSide];\n            if (((/** @type {?} */ (data))).offsets.target[placement] > boundaries[placement] &&\n                !false // escapeWithReference\n            ) {\n                value = Math.min(data.offsets.target[mainSide], boundaries[placement] -\n                    (placement === 'right' ? data.offsets.target.width : data.offsets.target.height));\n            }\n            return { [mainSide]: value };\n        }\n    };\n    /** @type {?} */\n    let side;\n    order.forEach((/**\n     * @param {?} placement\n     * @return {?}\n     */\n    placement => {\n        side = ['left', 'top']\n            .indexOf(placement) !== -1\n            ? 'primary'\n            : 'secondary';\n        data.offsets.target = Object.assign({}, data.offsets.target, ((/** @type {?} */ (check)))[side](placement));\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction shift(data) {\n    /** @type {?} */\n    const placement = data.placement;\n    /** @type {?} */\n    const basePlacement = placement.split(' ')[0];\n    /** @type {?} */\n    const shiftVariation = placement.split(' ')[1];\n    if (shiftVariation) {\n        const { host, target } = data.offsets;\n        /** @type {?} */\n        const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n        /** @type {?} */\n        const side = isVertical ? 'left' : 'top';\n        /** @type {?} */\n        const measurement = isVertical ? 'width' : 'height';\n        /** @type {?} */\n        const shiftOffsets = {\n            start: { [side]: host[side] },\n            end: {\n                [side]: host[side] + host[measurement] - target[measurement]\n            }\n        };\n        data.offsets.target = Object.assign({}, target, {\n            [side]: (side === shiftVariation ? ((/** @type {?} */ (shiftOffsets))).start[side] : ((/** @type {?} */ (shiftOffsets))).end[side])\n        });\n    }\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Positioning {\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    position(hostElement, targetElement, round = true) {\n        return this.offset(hostElement, targetElement, false);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    offset(hostElement, targetElement, round = true) {\n        return getReferenceOffsets(targetElement, hostElement);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?} position\n     * @param {?=} appendToBody\n     * @param {?=} options\n     * @return {?}\n     */\n    positionElements(hostElement, targetElement, position, appendToBody, options) {\n        /** @type {?} */\n        const chainOfModifiers = [flip, shift, preventOverflow, arrow];\n        return chainOfModifiers.reduce((/**\n         * @param {?} modifiedData\n         * @param {?} modifier\n         * @return {?}\n         */\n        (modifiedData, modifier) => modifier(modifiedData)), initData(targetElement, hostElement, position, options));\n    }\n}\n/** @type {?} */\nconst positionService = new Positioning();\n/**\n * @param {?} hostElement\n * @param {?} targetElement\n * @param {?} placement\n * @param {?=} appendToBody\n * @param {?=} options\n * @param {?=} renderer\n * @return {?}\n */\nfunction positionElements(hostElement, targetElement, placement, appendToBody, options, renderer) {\n    /** @type {?} */\n    const data = positionService.positionElements(hostElement, targetElement, placement, appendToBody, options);\n    /** @type {?} */\n    const offsets = getOffsets(data);\n    setStyles(targetElement, {\n        'will-change': 'transform',\n        top: '0px',\n        left: '0px',\n        transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\n    }, renderer);\n    if (data.instance.arrow) {\n        setStyles(data.instance.arrow, data.offsets.arrow, renderer);\n    }\n    updateContainerClass(data, renderer);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction PositioningOptions() { }\nif (false) {\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which will be moved\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.element;\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which the element will be attached to\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.target;\n    /**\n     * A string of the form 'vert-attachment horiz-attachment' or 'placement'\n     * - placement can be \"top\", \"bottom\", \"left\", \"right\"\n     * not yet supported:\n     * - vert-attachment can be any of 'top', 'middle', 'bottom'\n     * - horiz-attachment can be any of 'left', 'center', 'right'\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.attachment;\n    /**\n     * A string similar to `attachment`. The one difference is that, if it's not provided,\n     * `targetAttachment` will assume the mirror image of `attachment`.\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetAttachment;\n    /**\n     * A string of the form 'vert-offset horiz-offset'\n     * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.offset;\n    /**\n     * A string similar to `offset`, but referring to the offset of the target\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetOffset;\n    /**\n     * If true component will be attached to body\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.appendToBody;\n}\nclass PositioningService {\n    /**\n     * @param {?} ngZone\n     * @param {?} rendererFactory\n     * @param {?} platformId\n     */\n    constructor(ngZone, rendererFactory, platformId) {\n        this.update$$ = new Subject();\n        this.positionElements = new Map();\n        this.isDisabled = false;\n        if (isPlatformBrowser(platformId)) {\n            ngZone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.triggerEvent$ = merge(fromEvent(window, 'scroll', { passive: true }), fromEvent(window, 'resize', { passive: true }), \n                /* tslint:disable-next-line: deprecation */\n                of(0, animationFrameScheduler), this.update$$);\n                this.triggerEvent$.subscribe((/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this.isDisabled) {\n                        return;\n                    }\n                    this.positionElements\n                        /* tslint:disable-next-line: no-any */\n                        .forEach((/**\n                     * @param {?} positionElement\n                     * @return {?}\n                     */\n                    (positionElement) => {\n                        positionElements(_getHtmlElement(positionElement.target), _getHtmlElement(positionElement.element), positionElement.attachment, positionElement.appendToBody, this.options, rendererFactory.createRenderer(null, null));\n                    }));\n                }));\n            }));\n        }\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    position(options) {\n        this.addPositionElement(options);\n    }\n    /**\n     * @return {?}\n     */\n    get event$() {\n        return this.triggerEvent$;\n    }\n    /**\n     * @return {?}\n     */\n    disable() {\n        this.isDisabled = true;\n    }\n    /**\n     * @return {?}\n     */\n    enable() {\n        this.isDisabled = false;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    addPositionElement(options) {\n        this.positionElements.set(_getHtmlElement(options.element), options);\n    }\n    /**\n     * @return {?}\n     */\n    calcPosition() {\n        this.update$$.next();\n    }\n    /**\n     * @param {?} elRef\n     * @return {?}\n     */\n    deletePositionElement(elRef) {\n        this.positionElements.delete(_getHtmlElement(elRef));\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        this.options = options;\n    }\n}\nPositioningService.ɵfac = function PositioningService_Factory(t) { return new (t || PositioningService)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(PLATFORM_ID)); };\nPositioningService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PositioningService, factory: PositioningService.ɵfac });\n/** @nocollapse */\nPositioningService.ctorParameters = () => [\n    { type: NgZone },\n    { type: RendererFactory2 },\n    { type: Number, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PositioningService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.RendererFactory2 }, { type: Number, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.update$$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.positionElements;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.triggerEvent$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.isDisabled;\n}\n/**\n * @param {?} element\n * @return {?}\n */\nfunction _getHtmlElement(element) {\n    // it means that we got a selector\n    if (typeof element === 'string') {\n        return document.querySelector(element);\n    }\n    if (element instanceof ElementRef) {\n        return element.nativeElement;\n    }\n    return element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Positioning, PositioningService, positionElements };\n\n//# sourceMappingURL=ngx-bootstrap-positioning.js.map","import { isDevMode } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass Trigger {\n    /**\n     * @param {?} open\n     * @param {?=} close\n     */\n    constructor(open, close) {\n        this.open = open;\n        this.close = close || open;\n    }\n    /**\n     * @return {?}\n     */\n    isManual() {\n        return this.open === 'manual' || this.close === 'manual';\n    }\n}\nif (false) {\n    /** @type {?} */\n    Trigger.prototype.open;\n    /** @type {?} */\n    Trigger.prototype.close;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction ListenOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    ListenOptions.prototype.target;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.targets;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.triggers;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideClick;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideEsc;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.show;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.hide;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.toggle;\n}\n/** @type {?} */\nconst DEFAULT_ALIASES = {\n    hover: ['mouseover', 'mouseout'],\n    focus: ['focusin', 'focusout']\n};\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?} triggers\n * @param {?=} aliases\n * @return {?}\n */\nfunction parseTriggers(triggers, aliases = DEFAULT_ALIASES) {\n    /** @type {?} */\n    const trimmedTriggers = (triggers || '').trim();\n    if (trimmedTriggers.length === 0) {\n        return [];\n    }\n    /** @type {?} */\n    const parsedTriggers = trimmedTriggers\n        .split(/\\s+/)\n        .map((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => trigger.split(':')))\n        .map((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => {\n        /** @type {?} */\n        const alias = aliases[triggerPair[0]] || triggerPair;\n        return new Trigger(alias[0], alias[1]);\n    }));\n    /** @type {?} */\n    const manualTriggers = parsedTriggers.filter((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => triggerPair.isManual()));\n    if (manualTriggers.length > 1) {\n        throw new Error('Triggers parse error: only one manual trigger is allowed');\n    }\n    if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\n        throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\n    }\n    return parsedTriggers;\n}\n/**\n * @param {?} renderer\n * @param {?} target\n * @param {?} triggers\n * @param {?} showFn\n * @param {?} hideFn\n * @param {?} toggleFn\n * @return {?}\n */\nfunction listenToTriggers(renderer, \n/* tslint:disable-next-line: no-any */\ntarget, triggers, showFn, hideFn, toggleFn) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(triggers);\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        if (trigger.open === trigger.close) {\n            listeners.push(renderer.listen(target, trigger.open, toggleFn));\n            return;\n        }\n        listeners.push(renderer.listen(target, trigger.open, showFn), renderer.listen(target, trigger.close, hideFn));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction listenToTriggersV2(renderer, options) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(options.triggers);\n    /** @type {?} */\n    const target = options.target;\n    // do nothing\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    // all listeners\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    // lazy listeners registration\n    /** @type {?} */\n    const _registerHide = [];\n    /** @type {?} */\n    const registerHide = (/**\n     * @return {?}\n     */\n    () => {\n        // add hide listeners to unregister array\n        _registerHide.forEach((/**\n         * @param {?} fn\n         * @return {?}\n         */\n        (fn) => listeners.push(fn())));\n        // register hide events only once\n        _registerHide.length = 0;\n    });\n    // register open\\close\\toggle listeners\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        /** @type {?} */\n        const useToggle = trigger.open === trigger.close;\n        /** @type {?} */\n        const showFn = useToggle ? options.toggle : options.show;\n        if (!useToggle) {\n            _registerHide.push((/**\n             * @return {?}\n             */\n            () => renderer.listen(target, trigger.close, options.hide)));\n        }\n        listeners.push(renderer.listen(target, trigger.open, (/**\n         * @return {?}\n         */\n        () => showFn(registerHide))));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerOutsideClick(renderer, options) {\n    if (!options.outsideClick) {\n        return Function.prototype;\n    }\n    /* tslint:disable-next-line: no-any */\n    return renderer.listen('document', 'click', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerEscClick(renderer, options) {\n    if (!options.outsideEsc) {\n        return Function.prototype;\n    }\n    return renderer.listen('document', 'keyup.esc', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * JS version of browser APIs. This library can only run in the browser.\n * @type {?}\n */\nconst win = (typeof window !== 'undefined' && window) || (/** @type {?} */ ({}));\n/** @type {?} */\nconst document$1 = win.document;\n/** @type {?} */\nconst location = win.location;\n/** @type {?} */\nconst gc = win.gc ? (/**\n * @return {?}\n */\n() => win.gc()) : (/**\n * @return {?}\n */\n() => null);\n/** @type {?} */\nconst performance = win.performance ? win.performance : null;\n/** @type {?} */\nconst Event = win.Event;\n/** @type {?} */\nconst MouseEvent = win.MouseEvent;\n/** @type {?} */\nconst KeyboardEvent = win.KeyboardEvent;\n/** @type {?} */\nconst EventTarget = win.EventTarget;\n/** @type {?} */\nconst History = win.History;\n/** @type {?} */\nconst Location = win.Location;\n/** @type {?} */\nconst EventListener = win.EventListener;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet guessedVersion;\n/**\n * @return {?}\n */\nfunction _guessBsVersion() {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    /** @type {?} */\n    const spanEl = document.createElement('span');\n    spanEl.innerText = 'test bs version';\n    document.body.appendChild(spanEl);\n    spanEl.classList.add('d-none');\n    /** @type {?} */\n    const rect = spanEl.getBoundingClientRect();\n    document.body.removeChild(spanEl);\n    if (!rect) {\n        return 'bs3';\n    }\n    return rect.top === 0 ? 'bs4' : 'bs3';\n}\n/**\n * @param {?} theme\n * @return {?}\n */\nfunction setTheme(theme) {\n    guessedVersion = theme;\n}\n// todo: in ngx-bootstrap, bs4 will became a default one\n/**\n * @return {?}\n */\nfunction isBs3() {\n    if (typeof win === 'undefined') {\n        return true;\n    }\n    if (typeof win.__theme === 'undefined') {\n        if (guessedVersion) {\n            return guessedVersion === 'bs3';\n        }\n        guessedVersion = _guessBsVersion();\n        return guessedVersion === 'bs3';\n    }\n    return win.__theme !== 'bs4';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass LinkedList {\n    constructor() {\n        this.length = 0;\n        this.asArray = [];\n        // Array methods overriding END\n    }\n    /**\n     * @param {?} position\n     * @return {?}\n     */\n    get(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            return void 0;\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current.value;\n    }\n    /**\n     * @param {?} value\n     * @param {?=} position\n     * @return {?}\n     */\n    add(value, position = this.length) {\n        if (position < 0 || position > this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const node = {\n            value,\n            next: undefined,\n            previous: undefined\n        };\n        if (this.length === 0) {\n            this.head = node;\n            this.tail = node;\n            this.current = node;\n        }\n        else {\n            if (position === 0) {\n                // first node\n                node.next = this.head;\n                this.head.previous = node;\n                this.head = node;\n            }\n            else if (position === this.length) {\n                // last node\n                this.tail.next = node;\n                node.previous = this.tail;\n                this.tail = node;\n            }\n            else {\n                // node in middle\n                /** @type {?} */\n                const currentPreviousNode = this.getNode(position - 1);\n                /** @type {?} */\n                const currentNextNode = currentPreviousNode.next;\n                currentPreviousNode.next = node;\n                currentNextNode.previous = node;\n                node.previous = currentPreviousNode;\n                node.next = currentNextNode;\n            }\n        }\n        this.length++;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?=} position\n     * @return {?}\n     */\n    remove(position = 0) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        if (position === 0) {\n            // first node\n            this.head = this.head.next;\n            if (this.head) {\n                // there is no second node\n                this.head.previous = undefined;\n            }\n            else {\n                // there is no second node\n                this.tail = undefined;\n            }\n        }\n        else if (position === this.length - 1) {\n            // last node\n            this.tail = this.tail.previous;\n            this.tail.next = undefined;\n        }\n        else {\n            // middle node\n            /** @type {?} */\n            const removedNode = this.getNode(position);\n            removedNode.next.previous = removedNode.previous;\n            removedNode.previous.next = removedNode.next;\n        }\n        this.length--;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?} position\n     * @param {?} value\n     * @return {?}\n     */\n    set(position, value) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        const node = this.getNode(position);\n        node.value = value;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @return {?}\n     */\n    toArray() {\n        return this.asArray;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findAll(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const result = [];\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result.push({ index, value: current.value });\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    // Array methods overriding start\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    push(...args) {\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    pop() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const last = this.tail;\n        this.remove(this.length - 1);\n        return last.value;\n    }\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    unshift(...args) {\n        args.reverse();\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg, 0);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    shift() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const lastItem = this.head.value;\n        this.remove();\n        return lastItem;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    forEach(fn) {\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < this.length; index++) {\n            fn(current.value, index);\n            current = current.next;\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    indexOf(value) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let position = 0;\n        for (let index = 0; index < this.length; index++) {\n            if (current.value === value) {\n                position = index;\n                break;\n            }\n            current = current.next;\n        }\n        return position;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    some(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = false;\n        while (current && !result) {\n            if (fn(current.value)) {\n                result = true;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    every(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = true;\n        while (current && result) {\n            if (!fn(current.value)) {\n                result = false;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /**\n     * @return {?}\n     */\n    toString() {\n        return '[Linked List]';\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    find(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = current.value;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findIndex(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = index;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @protected\n     * @param {?} position\n     * @return {?}\n     */\n    getNode(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    createInternalArrayRepresentation() {\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const outArray = [];\n        /** @type {?} */\n        let current = this.head;\n        while (current) {\n            outArray.push(current.value);\n            current = current.next;\n        }\n        this.asArray = outArray;\n    }\n}\nif (false) {\n    /** @type {?} */\n    LinkedList.prototype.length;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.head;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.tail;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.current;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.asArray;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*tslint:disable:no-invalid-this */\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?=} defaultValue\n * @return {?}\n */\nfunction OnChange(defaultValue) {\n    /** @type {?} */\n    const sufix = 'Change';\n    /* tslint:disable-next-line: no-any */\n    return (/**\n     * @param {?} target\n     * @param {?} propertyKey\n     * @return {?}\n     */\n    function OnChangeHandler(target, propertyKey) {\n        /** @type {?} */\n        const _key = ` __${propertyKey}Value`;\n        Object.defineProperty(target, propertyKey, {\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @return {?}\n             */\n            get() {\n                return this[_key];\n            },\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @param {?} value\n             * @return {?}\n             */\n            set(value) {\n                /** @type {?} */\n                const prevValue = this[_key];\n                this[_key] = value;\n                if (prevValue !== value && this[propertyKey + sufix]) {\n                    this[propertyKey + sufix].emit(value);\n                }\n            }\n        });\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Utils {\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    static reflow(element) {\n        /* tslint:disable-next-line: no-any */\n        ((/**\n         * @param {?} bs\n         * @return {?}\n         */\n        (bs) => bs))(element.offsetHeight);\n    }\n    // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} elem\n     * @return {?}\n     */\n    static getStyles(elem) {\n        // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n        // IE throws on elements created in popups\n        // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n        /** @type {?} */\n        let view = elem.ownerDocument.defaultView;\n        if (!view || !view.opener) {\n            view = win;\n        }\n        return view.getComputedStyle(elem);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst _messagesHash = {};\n/** @type {?} */\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\n/**\n * @param {?} msg\n * @return {?}\n */\nfunction warnOnce(msg) {\n    if (!isDevMode() || _hideMsg || msg in _messagesHash) {\n        return;\n    }\n    _messagesHash[msg] = true;\n    /*tslint:disable-next-line*/\n    console.warn(msg);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { LinkedList, OnChange, Trigger, Utils, document$1 as document, isBs3, listenToTriggers, listenToTriggersV2, parseTriggers, registerEscClick, registerOutsideClick, setTheme, warnOnce, win as window };\n\n//# sourceMappingURL=ngx-bootstrap-utils.js.map","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { Hotel } from '@app/_models/hotel';\r\nimport { Country } from '@app/_models/country';\r\nimport { City } from '@app/_models/city';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class HotelService {\r\n    private hotelSubject: BehaviorSubject<Hotel>;\r\n    public hotel: Observable<Hotel>;\r\n    hotelIdData: any;\r\n    listCity: City[];  \r\n    constructor(\r\n        private router: Router,\r\n        private http: HttpClient\r\n    ) {\r\n        this.hotelSubject = new BehaviorSubject<Hotel>(JSON.parse(localStorage.getItem('hotel')));\r\n        this.hotel = this.hotelSubject.asObservable();\r\n    }\r\n\r\n    public get hotelValue(): Hotel {\r\n        return this.hotelSubject.value;\r\n    }\r\n\r\n    \r\n\r\n   \r\n\r\n    register(hotel: Hotel) {\r\n        console.log(hotel);\r\n        return this.http.post(`${environment.apiUrl}/hotels`, hotel);\r\n    }\r\n\r\n    getAll() {\r\n        return this.http.get<Hotel[]>(`${environment.apiUrl}/hotels`);\r\n    }\r\n    getCountryList() {\r\n        return this.http.get<Country[]>(`${environment.apiUrl}/countries`);\r\n    }\r\n    CityByCountry(countryID:number) {  \r\n        return this.http.get<City[]>(`${environment.apiUrl}/countries/CityDetails/${countryID}`);  \r\n       }\r\n\r\n    getById(id: number) {\r\n        return this.http.get<Hotel>(`${environment.apiUrl}/hotels/${id}`);\r\n    }\r\n\r\n    update(id, params) {\r\n        return this.http.put(`${environment.apiUrl}/hotels/${id}`, params)\r\n            .pipe(map(x => {\r\n                // update stored user if the logged in user updated their own record\r\n                if (id == this.hotelValue.HotelId) {\r\n                    // update local storage\r\n                    const hotel = { ...this.hotelValue, ...params };\r\n                    localStorage.setItem('hotel', JSON.stringify(hotel));\r\n\r\n                    // publish updated user to subscribers\r\n                    this.hotelSubject.next(hotel);\r\n                }\r\n                return x;\r\n            }));\r\n    }\r\n\r\n    delete(id: number) {\r\n        return this.http.delete(`${environment.apiUrl}/hotels/${id}`)\r\n            .pipe(map(x => {\r\n                // auto logout if the logged in user deleted their own record\r\n                if (id == this.hotelValue.HotelId) {\r\n                    //this.logout();\r\n                }\r\n                return x;\r\n            }));\r\n    }\r\n  \r\n}","import { Component, OnInit, EventEmitter } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\nimport { HotelService } from '@app/_services/hotel.service';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n//http://www.mukeshkumar.net/articles/angular/crud-operations-in-angular-with-typescript-using-ngx-bootstrap\r\n@Component({\r\n  selector: 'app-add-new-hotel',\r\n  templateUrl: './add-new-hotel.component.html',\r\n  \r\n})\r\nexport class AddNewHotelComponent implements OnInit {\r\n\r\naddNewHotelForm: FormGroup;\r\n  countries: any[] = [];\r\n  cities: any[] = [];\r\n  event: EventEmitter<any>=new EventEmitter();\r\n\r\n  constructor(private builder: FormBuilder, private hotelService: HotelService, private bsModalRef: BsModalRef) {\r\n    this.addNewHotelForm = this.builder.group({\r\n      Country: new FormControl(null, []),\r\n      City: new FormControl(null, []),\r\n      HotelName: new FormControl('', []),\r\n      Description: new FormControl('', []),\r\n      Adddress: new FormControl('', []),\r\n    });\r\n   \r\n    this.hotelService.getCountryList().subscribe(data => {\r\n        console.log(data);\r\n      Object.assign(this.countries, data);\r\n    }, error => { console.log('Error while gettig category data.'); });\r\n  }\r\n\r\n  onHotelFormSubmit(){\r\n    let hotelData = {\r\n      'HotelId':0,\r\n      'HotelName': this.addNewHotelForm.get('HotelName').value,\r\n      'Description': this.addNewHotelForm.get('Description').value,\r\n      'CityId': Number(this.addNewHotelForm.get('City').value),\r\n      'Adddress': this.addNewHotelForm.get('Adddress').value,\r\n    };\r\n  \r\n    this.hotelService.register(hotelData).subscribe(data=>{\r\n     \r\n      if(data!=null && data>0){\r\n        this.event.emit('OK');\r\n        this.bsModalRef.hide();\r\n      }\r\n    });\r\n  }\r\n  BindCity(countryId : number){  \r\n    this.hotelService.CityByCountry(countryId).subscribe(data => {\r\n       \r\n      Object.assign(this.cities, data);\r\n    }, error => { console.log('Error while gettig category data.'); });  \r\n }\r\n  onClose(){\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","<div role=\"document\">\r\n    <div>\r\n      <form class=\"form-horizontal\" id=\"add-form\" [formGroup]=\"addNewHotelForm\" (ngSubmit)=\"onHotelFormSubmit()\">\r\n        <div class=\"modal-header\">\r\n          <div class=\"col-sm-11\">\r\n            <h4 class=\"modal-title\" id=\"add-modal-label\">Add Hotel</h4>\r\n          </div>\r\n         <div class=\"col-sm-1\">\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"onClose()\"><span aria-hidden=\"true\">&times;</span></button>\r\n         </div>\r\n         \r\n        </div>\r\n        <div class=\"modal-body\">\r\n         \r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-12 control-label\">Hotel Name</label>\r\n            <div class=\"col-sm-12\">\r\n              <input type=\"text\" class=\"form-control\" formControlName=\"HotelName\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-12 control-label\">Country</label>\r\n            <div class=\"col-sm-12\">\r\n              <select formControlName=\"Country\" class=\"form-control\" (change)=\"BindCity($event.target.value)\">\r\n                <option [value]=\"null\">Select Country</option>\r\n                <option *ngFor=\"let item of countries\" [value]=\"item.CountryID\">{{item.CountryName}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-12 control-label\">City</label>\r\n            <div class=\"col-sm-12\">\r\n              <select formControlName=\"City\" class=\"form-control\">\r\n                <option [value]=\"null\">Select City</option>\r\n                <option *ngFor=\"let item of cities\" [value]=\"item.CityID\">{{item.CityName}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-12 control-label\">Description</label>\r\n            <div class=\"col-sm-12\">\r\n              <textarea class=\"form-control\" formControlName=\"Description\"></textarea>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-12 control-label\">Address</label>\r\n            <div class=\"col-sm-12\">\r\n              <textarea class=\"form-control\" formControlName=\"Adddress\"></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"onClose()\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>","import { Component, OnInit, EventEmitter } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { HotelService } from '@app/_services/hotel.service';\r\n\r\n@Component({\r\n  selector: 'app-delete-hotel',\r\n  templateUrl: './delete-hotel.component.html',\r\n \r\n})\r\nexport class DeleteHotelComponent implements OnInit {\r\n\r\n  HotelId: number;\r\n  HotelName: string;\r\n  event: EventEmitter<any> = new EventEmitter();\r\n  \r\n  constructor(private bsModalRef: BsModalRef, private hotelService: HotelService) {\r\n\r\n  }\r\n\r\n  deleteHotel(HotelId: number) {\r\n    this.hotelService.delete(HotelId).subscribe();\r\n    this.event.emit('OK');\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  onClose() {\r\n    this.bsModalRef.hide();\r\n\r\n  }\r\n  ngOnInit() {\r\n  }\r\n}","<div role=\"document\">\r\n    <div>\r\n      <div class=\"modal-header\">\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"onClose()\"><span aria-hidden=\"true\">&times;</span></button>\r\n        <h4 class=\"modal-title\" id=\"add-modal-label\">Delete Hotel</h4>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"form-group\">\r\n          <label class=\"col-sm-2 control-label\">Are you sure to delete following Hotel?</label>\r\n          <div class=\"col-sm-10\">\r\n            <h3 style=\"color:blue;\">{{HotelName}}</h3>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label class=\"col-sm-2 control-label\"></label>\r\n          <div class=\"col-sm-10\">\r\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"onClose()\">Close</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" (click)=\"deleteHotel(HotelId)\" style=\"margin:5px;\">Delete</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>","import { Component, OnInit, Input, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\r\nimport { HotelService } from '@app/_services/hotel.service';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\n\r\n@Component({\r\n  selector: 'app-edit-hotel',\r\n  templateUrl: './edit-hotel.component.html',\r\n  \r\n})\r\nexport class EditHotelComponent implements OnInit {\r\n\r\n  editHotelForm: FormGroup;\r\n  countries: any[] = [];\r\n  HotelId: number;\r\n  hotelData: any;\r\n  event: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(private builder: FormBuilder, private hotelService: HotelService, private bsModalRef: BsModalRef) {\r\n    this.editHotelForm = this.builder.group({\r\n      Country: new FormControl(null, []),\r\n      HotelName: new FormControl('', []),\r\n      Description: new FormControl('', []),\r\n      Addsress: new FormControl('', [])\r\n    });\r\n\r\n\r\n    this.hotelService.getCountryList().subscribe(data => {\r\n      Object.assign(this.countries, data);\r\n    }, error => { console.log('Error while gettig category data.'); });\r\n\r\n    this.hotelService.hotelIdData.subscribe(data => {\r\n      this.HotelId = data;\r\n      if (this.HotelId !== undefined) {\r\n        this.hotelService.getById(this.HotelId).subscribe(data => {\r\n          this.hotelData = data;\r\n          \r\n          if (this.editHotelForm!=null && this.hotelData!=null) {\r\n            this.editHotelForm.controls['Country'].setValue(this.hotelData.CityId);\r\n            this.editHotelForm.controls['HotelName'].setValue(this.hotelData.HotelName);\r\n            this.editHotelForm.controls['Description'].setValue(this.hotelData.Description);\r\n            this.editHotelForm.controls['Adddress'].setValue(this.hotelData.Adddress);\r\n          }\r\n        }, error => { console.log(\"Error while gettig post details\") });\r\n      }\r\n    });\r\n  }\r\n\r\n  onHotelEditFormSubmit() {\r\n    let hotelData = {\r\n      'HotelId': this.HotelId,\r\n      'HotelName': this.editHotelForm.get('HotelName').value,\r\n      'Description': this.editHotelForm.get('Description').value,\r\n      'CityId': this.editHotelForm.get('Country').value,\r\n      'Adddress': this.editHotelForm.get('Adddress').value,\r\n    };\r\n\r\n    this.hotelService.update(this.HotelId,hotelData).subscribe(data => {      \r\n        this.event.emit('OK');\r\n        this.bsModalRef.hide();      \r\n    });\r\n  }\r\n\r\n  onClose() {\r\n    this.bsModalRef.hide();\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}","<div role=\"document\">\r\n    <div>\r\n      <form class=\"form-horizontal\" id=\"add-form\" [formGroup]=\"editHotelForm\" (ngSubmit)=\"onHotelEditFormSubmit()\">\r\n        <div class=\"modal-header\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"onClose()\"><span aria-hidden=\"true\">&times;</span></button>\r\n          <h4 class=\"modal-title\" id=\"add-modal-label\">Edit Hotel</h4>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-2 control-label\">Cateogry</label>\r\n            <div class=\"col-sm-10\">\r\n              <select formControlName=\"Contry\">\r\n                <option [value]=\"null\">Select Country</option>\r\n                <option *ngFor=\"let item of countries\" [value]=\"item.CountryId\">{{item.CountryName}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-2 control-label\">Hotel Name</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"text\" class=\"form-control\" formControlName=\"HotelName\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-2 control-label\">Description</label>\r\n            <div class=\"col-sm-10\">\r\n              <textarea class=\"form-control\" formControlName=\"Description\"></textarea>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"col-sm-2 control-label\">Adddress</label>\r\n            <div class=\"col-sm-10\">\r\n              <textarea class=\"form-control\" formControlName=\"Adddress\"></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" (click)=\"onClose()\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">Update</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n import { LayoutComponent } from './layout.component';\r\nimport { ListComponent } from './list.component';\r\n// import { AddEditComponent } from './add-edit.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '', component: LayoutComponent,\r\n        children: [\r\n            { path: '', component: ListComponent },\r\n            // { path: 'add', component: AddEditComponent },\r\n            // { path: 'edit/:id', component: AddEditComponent }\r\n        ]\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class HotelsRoutingModule { }","import { NgModule } from '@angular/core';\r\nimport {AgGridModule} from \"ag-grid-angular\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModalModule, BsModalService } from 'ngx-bootstrap/modal';\r\nimport { HotelsRoutingModule } from './hotels-routing.module';\r\nimport { LayoutComponent } from './layout.component';\r\nimport { ListComponent } from './list.component';\r\nimport { AddNewHotelComponent } from './add-new-hotel/add-new-hotel.component';\r\nimport { EditHotelComponent } from './edit-hotel/edit-hotel.component';\r\nimport { DeleteHotelComponent } from './delete-hotel/delete-hotel.component';\r\n// import { AddEditComponent } from './add-edit.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        HotelsRoutingModule,\r\n        ModalModule.forRoot(),\r\n         AgGridModule.withComponents(\r\n            [ListComponent]\r\n        )\r\n    ],\r\n    declarations: [\r\n        LayoutComponent,\r\n        ListComponent,\r\n        AddNewHotelComponent,\r\n        EditHotelComponent,\r\n        DeleteHotelComponent\r\n        \r\n    ],\r\n    providers: [BsModalService],\r\n  \r\n    entryComponents:[AddNewHotelComponent, EditHotelComponent, DeleteHotelComponent]\r\n})\r\nexport class HotelsModule { }","import { Component } from '@angular/core';\r\n\r\n@Component({ templateUrl: 'layout.component.html' })\r\nexport class LayoutComponent { }","<div class=\"p-4\">\r\n    <div class=\"container\">\r\n        <router-outlet></router-outlet>\r\n    </div>\r\n</div>","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { first } from 'rxjs/operators';\r\nimport { BsModalService, BsModalRef } from \"ngx-bootstrap/modal\";\r\nimport { HotelService } from '@app/_services/hotel.service';\r\nimport { AgGridAngular } from 'ag-grid-angular';\r\nimport { AddNewHotelComponent } from './add-new-hotel/add-new-hotel.component';\r\nimport { EditHotelComponent } from './edit-hotel/edit-hotel.component';\r\nimport { DeleteHotelComponent } from './delete-hotel/delete-hotel.component';\r\nimport { ButtonRendererComponent } from './renderer/button-renderer.component';\r\n@Component({ templateUrl: 'list.component.html' })\r\nexport class ListComponent implements OnInit {\r\n    @ViewChild('agGrid') agGrid: AgGridAngular;\r\n    bsModalRef: BsModalRef;\r\n    frameworkComponents: any;\r\n    rowDataClicked1 = {};\r\n    hotels = null;\r\n    columnDefs = [\r\n        {headerName: 'Hotel Name', field: 'HotelName',sortable: true, filter: true \r\n  \r\n    },\r\n        {headerName: 'City ID', field: 'CityId',sortable: true, filter: true },\r\n        {headerName: 'Address', field: 'Adddress',sortable: true, filter: true},\r\n        {\r\n          headerName: 'Button Col 1',\r\n          cellRenderer: 'buttonRenderer',\r\n          cellRendererParams: {\r\n            onClick: this.onBtnClick1.bind(this),\r\n            label: 'Click 1'\r\n          }\r\n        }\r\n        //  {headerName: '', field: '',  cellRenderer:'<span class=\"btn btn-primary btn-xs\" (click)=\"editPost(1)\"><span class=\"glyphicon glyphicon-pencil\"></span></span>'\r\n        // +'<span class=\"btn btn-danger btn-xs\" (click)=\"deletePost(item.postId, item.title)\"> <span class=\"glyphicon glyphicon-trash\"></span></span>'\r\n        // }\r\n    ];  \r\n\r\n   \r\n    constructor(private hotelService: HotelService,private bsModalService: BsModalService) {\r\n\r\n      this.frameworkComponents = {\r\n        buttonRenderer: ButtonRendererComponent,\r\n      }\r\n    }\r\n    onBtnClick1(e) {\r\n      this.rowDataClicked1 = e.rowData;\r\n    }\r\n\r\n    ngOnInit() {\r\n    \r\n        this.hotelService.getAll()\r\n            .pipe(first())\r\n            .subscribe(hotels => this.hotels = hotels);\r\n        \r\n    }\r\n    getSelectedRows() {\r\n        const selectedNodes = this.agGrid.api.getSelectedNodes();\r\n        const selectedData = selectedNodes.map( node => node.data );\r\n        const selectedDataStringPresentation = selectedData.map( node => node.HotelName + ' ' + node.Adddress).join(', ');\r\n        alert(`Selected nodes: ${selectedDataStringPresentation}`);\r\n    }\r\n    getHotels() {\r\n        this.hotelService.getAll().subscribe(data => {\r\n          Object.assign(this.hotels, data);\r\n        }, error => {\r\n          console.log(\"Error while getting posts \", error);\r\n        });\r\n      }\r\n    addNewHotel() {\r\n        this.bsModalRef = this.bsModalService.show(AddNewHotelComponent);\r\n        this.bsModalRef.content.event.subscribe(result => {\r\n          if (result == 'OK') {\r\n            this.getHotels();\r\n          }\r\n        });\r\n      }\r\n      deleteHotel(HotelId: number, HotelName: string) {\r\n        this.bsModalRef = this.bsModalService.show(DeleteHotelComponent);\r\n        this.bsModalRef.content.HotelId = HotelId;\r\n        this.bsModalRef.content.HotelName = HotelName;\r\n        this.bsModalRef.content.event.subscribe(result => {\r\n          console.log(\"deleted\", result);\r\n          if (result == 'OK') {\r\n            setTimeout(() => {\r\n              this.hotels=[];\r\n              this.getHotels();\r\n            }, 5000);\r\n          }\r\n        });\r\n      }\r\n      editHotel(HotelId: number) {\r\n        //this.hotelService.update(HotelId);\r\n    \r\n        this.bsModalRef = this.bsModalService.show(EditHotelComponent);\r\n        this.bsModalRef.content.event.subscribe(result => {\r\n          if (result == 'OK') {\r\n            setTimeout(() => {\r\n              this.getHotels();\r\n            }, 5000);\r\n          }\r\n        });\r\n      }\r\n    // deleteUser(id: string) {\r\n    //     const user = this.users.find(x => x.id === id);\r\n    //     user.isDeleting = true;\r\n    //     this.accountService.delete(id)\r\n    //         .pipe(first())\r\n    //         .subscribe(() => {\r\n    //             this.users = this.users.filter(x => x.id !== id) \r\n    //         });\r\n    // }\r\n}","<h1>Hotels</h1>\r\n\r\n<span (click)=\"addNewHotel()\" class=\"btn btn-primary btn-xs\">Add New Hotel</span>\r\n<button (click)=\"getSelectedRows()\">Get Selected Rows</button>\r\n<h4>Row data from button 1: </h4>\r\n<pre>{{rowDataClicked1 | json}}</pre>\r\n<ag-grid-angular\r\n    #agGrid\r\n    style=\"height: 500px;\"\r\n    class=\"ag-theme-alpine\"\r\n    [pagination]=\"true\"\r\n    [rowData]=\"hotels\"\r\n    [columnDefs]=\"columnDefs\"\r\n    rowSelection=\"multiple\"\r\n    >\r\n</ag-grid-angular>","import { Component } from '@angular/core';\r\nimport { ICellRendererAngularComp } from 'ag-grid-angular';\r\nimport { ICellRendererParams, IAfterGuiAttachedParams } from 'ag-grid';\r\n\r\n@Component({\r\n  selector: 'app-button-renderer',\r\n  template: `\r\n    <button type=\"button\" (click)=\"onClick($event)\">{{label}}</button>`\r\n})\r\n\r\nexport class ButtonRendererComponent implements ICellRendererAngularComp {\r\n\r\n  params;\r\n  label: string;\r\n\r\n  agInit(params): void {\r\n    this.params = params;\r\n    this.label = this.params.label || null;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  onClick($event) {\r\n    if (this.params.onClick instanceof Function) {\r\n      // put anything into params u want pass into parents component\r\n      const params = {\r\n        event: $event,\r\n        rowData: this.params.node.data\r\n        // ...something\r\n      }\r\n      this.params.onClick(params);\r\n\r\n    }\r\n  }\r\n}"]}